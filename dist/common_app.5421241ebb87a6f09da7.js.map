{"version":3,"file":"common_app.5421241ebb87a6f09da7.js","mappings":"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","sources":["webpack://reporaiola/./node_modules/@remix-run/router/dist/router.js","webpack://reporaiola/./node_modules/fast-deep-equal/es6/react.js","webpack://reporaiola/./node_modules/lottie-web/build/player/lottie.js","webpack://reporaiola/./node_modules/react-lottie-player/dist/LottiePlayer.modern.js","webpack://reporaiola/./node_modules/rfdc/default.js","webpack://reporaiola/./node_modules/rfdc/index.js","webpack://reporaiola/./node_modules/scheduler/cjs/scheduler.production.min.js","webpack://reporaiola/./node_modules/scheduler/index.js"],"sourcesContent":["/**\n * @remix-run/router v1.7.2\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */\nvar Action;\n(function (Action) {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Action[\"Push\"] = \"PUSH\";\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\nconst PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    initialEntries = [\"/\"],\n    initialIndex,\n    v5Compat = false\n  } = options;\n  let entries; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) => createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n  let action = Action.Pop;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state, key) {\n    if (state === void 0) {\n      state = null;\n    }\n    let location = createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n    return location;\n  }\n  function createHref(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 1\n        });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 0\n        });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta\n        });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createBrowserLocation(window, globalHistory) {\n    let {\n      pathname,\n      search,\n      hash\n    } = window.location;\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createBrowserHref(window, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createHashLocation(window, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window.location.hash.substr(1));\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createHashHref(window, to) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n  }\n  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */\nfunction createLocation(current, to, state, key) {\n  if (state === void 0) {\n    state = null;\n  }\n  let location = _extends({\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\"\n  }, typeof to === \"string\" ? parsePath(to) : to, {\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  });\n  return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nfunction createPath(_ref) {\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\"\n  } = _ref;\n  if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    window = document.defaultView,\n    v5Compat = false\n  } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener = null;\n  let index = getIndex();\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || {\n      idx: null\n    };\n    return state.idx;\n  }\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({\n        action,\n        location: history.location,\n        delta\n      });\n    }\n  }\n  function push(to, state) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 1\n      });\n    }\n  }\n  function replace(to, state) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 0\n      });\n    }\n  }\n  function createURL(to) {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n    return new URL(href, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n//#endregion\n\nvar ResultType;\n(function (ResultType) {\n  ResultType[\"data\"] = \"data\";\n  ResultType[\"deferred\"] = \"deferred\";\n  ResultType[\"redirect\"] = \"redirect\";\n  ResultType[\"error\"] = \"error\";\n})(ResultType || (ResultType = {}));\nconst immutableRouteKeys = new Set([\"lazy\", \"caseSensitive\", \"path\", \"id\", \"index\", \"children\"]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties, parentPath, manifest) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  if (manifest === void 0) {\n    manifest = {};\n  }\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n    invariant(!manifest[id], \"Found a route id collision on id \\\"\" + id + \"\\\".  Route \" + \"id's must be globally unique within Data Router usages\");\n    if (isIndexRoute(route)) {\n      let indexRoute = _extends({}, route, mapRouteProperties(route), {\n        id\n      });\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = _extends({}, route, mapRouteProperties(route), {\n        id,\n        children: undefined\n      });\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties, treePath, manifest);\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nfunction matchRoutes(routes, locationArg, basename) {\n  if (basename === void 0) {\n    basename = \"/\";\n  }\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch(branches[i],\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    safelyDecodeURI(pathname));\n  }\n  return matches;\n}\nfunction flattenRoutes(routes, branches, parentsMeta, parentPath) {\n  if (branches === void 0) {\n    branches = [];\n  }\n  if (parentsMeta === void 0) {\n    parentsMeta = [];\n  }\n  if (parentPath === void 0) {\n    parentPath = \"\";\n  }\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(meta.relativePath.startsWith(parentPath), \"Absolute route path \\\"\" + meta.relativePath + \"\\\" nested under path \" + (\"\\\"\" + parentPath + \"\\\" is not valid. An absolute child route path \") + \"must start with the combined path of all its parent routes.\");\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n      // Our types know better, but runtime JS may not!\n      // @ts-expect-error\n      route.index !== true, \"Index routes must not have child routes. Please remove \" + (\"all child routes from route path \\\"\" + path + \"\\\".\"));\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    var _route$path;\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(...restExploded.map(subpath => subpath === \"\" ? required : [required, subpath].join(\"/\")));\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map(exploded => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction rankRouteBranches(branches) {\n  branches.sort((a, b) => a.score !== b.score ? b.score - a.score // Higher score first\n  : compareIndexes(a.routesMeta.map(meta => meta.childrenIndex), b.routesMeta.map(meta => meta.childrenIndex)));\n}\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = s => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter(s => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue), initialScore);\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ?\n  // If two routes are siblings, we should try to match the earlier sibling\n  // first. This allows people to have fine-grained control over the matching\n  // behavior by simply putting routes with identical paths in the order they\n  // want them tried.\n  a[a.length - 1] - b[b.length - 1] :\n  // Otherwise, it doesn't really make sense to rank non-siblings by index,\n  // so they sort equally.\n  0;\n}\nfunction matchRouteBranch(branch, pathname) {\n  let {\n    routesMeta\n  } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath({\n      path: meta.relativePath,\n      caseSensitive: meta.caseSensitive,\n      end\n    }, remainingPathname);\n    if (!match) return null;\n    Object.assign(matchedParams, match.params);\n    let route = meta.route;\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nfunction generatePath(originalPath, params) {\n  if (params === void 0) {\n    params = {};\n  }\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(false, \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = p => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    // only apply the splat if it's the last segment\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      // Apply the splat\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, \"Missing \\\":\" + key + \"\\\" param\");\n      return stringify(param);\n    }\n    // Remove any optional markers from optional static segments\n    return segment.replace(/\\?$/g, \"\");\n  })\n  // Remove empty segments\n  .filter(segment => !!segment);\n  return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = {\n      path: pattern,\n      caseSensitive: false,\n      end: true\n    };\n  }\n  let [matcher, paramNames] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = paramNames.reduce((memo, paramName, index) => {\n    // We need to compute the pathnameBase here using the raw splat value\n    // instead of using params[\"*\"] later because it will be decoded then\n    if (paramName === \"*\") {\n      let splatValue = captureGroups[index] || \"\";\n      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n    }\n    memo[paramName] = safelyDecodeURIComponent(captureGroups[index] || \"\", paramName);\n    return memo;\n  }, {});\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive, end) {\n  if (caseSensitive === void 0) {\n    caseSensitive = false;\n  }\n  if (end === void 0) {\n    end = true;\n  }\n  warning(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n  let paramNames = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n  .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n  .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n  .replace(/\\/:(\\w+)/g, (_, paramName) => {\n    paramNames.push(paramName);\n    return \"/([^\\\\/]+)\";\n  });\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n    : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else ;\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n  return [matcher, paramNames];\n}\nfunction safelyDecodeURI(value) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(false, \"The URL path \\\"\" + value + \"\\\" could not be decoded because it is is a \" + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n    return value;\n  }\n}\nfunction safelyDecodeURIComponent(value, paramName) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(false, \"The value for the URL param \\\"\" + paramName + \"\\\" will not be decoded because\" + (\" the string \\\"\" + value + \"\\\" is a malformed URL segment. This is probably\") + (\" due to a bad percent encoding (\" + error + \").\"));\n    return value;\n  }\n}\n/**\n * @private\n */\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nfunction resolvePath(to, fromPathname) {\n  if (fromPathname === void 0) {\n    fromPathname = \"/\";\n  }\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach(segment => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + \"a string in <Link to=\\\"...\\\"> and the router will parse it for you.\";\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches) {\n  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);\n}\n/**\n * @private\n */\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {\n  if (isPathRelative === void 0) {\n    isPathRelative = false;\n  }\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = _extends({}, toArg);\n    invariant(!to.pathname || !to.pathname.includes(\"?\"), getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n    invariant(!to.pathname || !to.pathname.includes(\"#\"), getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n    invariant(!to.search || !to.search.includes(\"#\"), getInvalidPathError(\"#\", \"search\", \"hash\", to));\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\n/**\n * @private\n */\nfunction getToPathname(to) {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? parsePath(to).pathname : to.pathname;\n}\n/**\n * @private\n */\nconst joinPaths = paths => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */\nconst normalizePathname = pathname => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */\nconst normalizeSearch = search => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */\nconst normalizeHash = hash => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nconst json = function json(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n  return new Response(JSON.stringify(data), _extends({}, responseInit, {\n    headers\n  }));\n};\nclass AbortedDeferredError extends Error {}\nclass DeferredData {\n  constructor(data, responseInit) {\n    this.pendingKeysSet = new Set();\n    this.subscribers = new Set();\n    this.deferredKeys = [];\n    invariant(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject;\n    this.abortPromise = new Promise((_, r) => reject = r);\n    this.controller = new AbortController();\n    let onAbort = () => reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n    this.data = Object.entries(data).reduce((acc, _ref) => {\n      let [key, value] = _ref;\n      return Object.assign(acc, {\n        [key]: this.trackPromise(key, value)\n      });\n    }, {});\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n    this.init = responseInit;\n  }\n  trackPromise(key, value) {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise = Promise.race([value, this.abortPromise]).then(data => this.onSettle(promise, key, undefined, data), error => this.onSettle(promise, key, error));\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n    Object.defineProperty(promise, \"_tracked\", {\n      get: () => true\n    });\n    return promise;\n  }\n  onSettle(promise, key, error, data) {\n    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      return Promise.reject(error);\n    }\n    this.pendingKeysSet.delete(key);\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\"Deferred data for key \\\"\" + key + \"\\\" resolved/rejected with `undefined`, \" + \"you must resolve/reject with a value or `null`.\");\n      Object.defineProperty(promise, \"_error\", {\n        get: () => undefinedError\n      });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n    Object.defineProperty(promise, \"_data\", {\n      get: () => data\n    });\n    this.emit(false, key);\n    return data;\n  }\n  emit(aborted, settledKey) {\n    this.subscribers.forEach(subscriber => subscriber(aborted, settledKey));\n  }\n  subscribe(fn) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n  async resolveData(signal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise(resolve => {\n        this.subscribe(aborted => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n  get unwrappedData() {\n    invariant(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n    return Object.entries(this.data).reduce((acc, _ref2) => {\n      let [key, value] = _ref2;\n      return Object.assign(acc, {\n        [key]: unwrapTrackedPromise(value)\n      });\n    }, {});\n  }\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\nfunction isTrackedPromise(value) {\n  return value instanceof Promise && value._tracked === true;\n}\nfunction unwrapTrackedPromise(value) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\nconst defer = function defer(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  return new DeferredData(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirect = function redirect(url, init) {\n  if (init === void 0) {\n    init = 302;\n  }\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = {\n      status: responseInit\n    };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, _extends({}, responseInit, {\n    headers\n  }));\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nclass ErrorResponse {\n  constructor(status, statusText, data, internal) {\n    if (internal === void 0) {\n      internal = false;\n    }\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\nconst validMutationMethodsArr = [\"post\", \"put\", \"patch\", \"delete\"];\nconst validMutationMethods = new Set(validMutationMethodsArr);\nconst validRequestMethodsArr = [\"get\", ...validMutationMethodsArr];\nconst validRequestMethods = new Set(validRequestMethodsArr);\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\nconst IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_FETCHER = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined\n};\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst defaultMapRouteProperties = route => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n  const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n  invariant(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n  let mapRouteProperties;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Routes keyed by ID\n  let manifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties, undefined, manifest);\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  // Config driven behavior flags\n  let future = _extends({\n    v7_normalizeFormMethod: false,\n    v7_prependBasename: false\n  }, init.future);\n  // Cleanup function for history\n  let unlistenHistory = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors = null;\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = {\n      [route.id]: error\n    };\n  }\n  let initialized =\n  // All initialMatches need to be loaded before we're ready.  If we have lazy\n  // functions around still then we'll need to run them in initialize()\n  !initialMatches.some(m => m.route.lazy) && (\n  // And we have to either have no loaders or have been provided hydrationData\n  !initialMatches.some(m => m.route.loader) || init.hydrationData != null);\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map()\n  };\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction = Action.Pop;\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n  // AbortController for the active navigation\n  let pendingNavigationController;\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes = [];\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads = [];\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map();\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map();\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set();\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map();\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map();\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map();\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(_ref => {\n      let {\n        action: historyAction,\n        location,\n        delta\n      } = _ref;\n      // Ignore this event if it was just us resetting the URL from a\n      // blocked POP navigation\n      if (ignoreNextHistoryUpdate) {\n        ignoreNextHistoryUpdate = false;\n        return;\n      }\n      warning(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location \" + \"that was not created by @remix-run/router. This will fail silently in \" + \"production. This can happen if you are navigating outside the router \" + \"via `window.history.pushState`/`window.location.hash` instead of using \" + \"router navigation APIs.  This can also happen if you are using \" + \"createHashRouter and the user manually changes the URL.\");\n      let blockerKey = shouldBlockNavigation({\n        currentLocation: state.location,\n        nextLocation: location,\n        historyAction\n      });\n      if (blockerKey && delta != null) {\n        // Restore the URL to match the current UI, but don't update router state\n        ignoreNextHistoryUpdate = true;\n        init.history.go(delta * -1);\n        // Put the blocker into a blocked state\n        updateBlocker(blockerKey, {\n          state: \"blocked\",\n          location,\n          proceed() {\n            updateBlocker(blockerKey, {\n              state: \"proceeding\",\n              proceed: undefined,\n              reset: undefined,\n              location\n            });\n            // Re-do the same POP navigation we just blocked\n            init.history.go(delta);\n          },\n          reset() {\n            let blockers = new Map(state.blockers);\n            blockers.set(blockerKey, IDLE_BLOCKER);\n            updateState({\n              blockers\n            });\n          }\n        });\n        return;\n      }\n      return startNavigation(historyAction, location);\n    });\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(Action.Pop, state.location);\n    }\n    return router;\n  }\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  // Subscribe to state updates for the router\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  // Update our state and notify the calling context of the change\n  function updateState(newState) {\n    state = _extends({}, state, newState);\n    subscribers.forEach(subscriber => subscriber(state));\n  }\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(location, newState) {\n    var _location$state, _location$state2;\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n    if (isUninterruptedRevalidation) ; else if (pendingAction === Action.Pop) ; else if (pendingAction === Action.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === Action.Replace) {\n      init.history.replace(location, location.state);\n    }\n    updateState(_extends({}, newState, {\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n      preventScrollReset,\n      blockers\n    }));\n    // Reset stateful navigation vars\n    pendingAction = Action.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = _extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n    let historyAction = Action.Push;\n    if (userReplace === true) {\n      historyAction = Action.Replace;\n    } else if (userReplace === false) ; else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = Action.Replace;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({\n            blockers\n          });\n        }\n      });\n      return;\n    }\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace\n    });\n  }\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({\n      revalidation: \"loading\"\n    });\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return;\n    }\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n      overrideNavigation: state.navigation\n    });\n  }\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(historyAction, location, opts) {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error\n        }\n      });\n      return;\n    }\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, {\n        matches\n      });\n      return;\n    }\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n    let pendingActionData;\n    let pendingError;\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError\n      };\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(request, location, opts.submission, matches, {\n        replace: opts.replace\n      });\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      // Create a GET request for the loaders\n      request = new Request(request.url, {\n        signal: request.signal\n      });\n    }\n    // Call loaders\n    let {\n      shortCircuited,\n      loaderData,\n      errors\n    } = await handleLoaders(request, location, matches, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, pendingActionData, pendingError);\n    if (shortCircuited) {\n      return;\n    }\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n    completeNavigation(location, _extends({\n      matches\n    }, pendingActionData ? {\n      actionData: pendingActionData\n    } : {}, {\n      loaderData,\n      errors\n    }));\n  }\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(request, location, submission, matches, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    interruptActiveLoads();\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({\n      navigation\n    });\n    // Call our action and get the result\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      result = await callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename);\n      if (request.signal.aborted) {\n        return {\n          shortCircuited: true\n        };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace = result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, {\n        submission,\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = Action.Push;\n      }\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: {\n          [boundaryMatch.route.id]: result.error\n        }\n      };\n    }\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    return {\n      pendingActionData: {\n        [actionMatch.route.id]: result.data\n      }\n    };\n  }\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(request, location, matches, overrideNavigation, submission, fetcherSubmission, replace, pendingActionData, pendingError) {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError);\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(routeId => !(matches && matches.some(m => m.route.id === routeId)) || matchesToLoad && matchesToLoad.some(m => m.route.id === routeId));\n    pendingNavigationLoadId = ++incrementingLoadId;\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, _extends({\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null\n      }, pendingActionData ? {\n        actionData: pendingActionData\n      } : {}, updatedFetchers ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n      return {\n        shortCircuited: true\n      };\n    }\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach(rf => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState(_extends({\n        navigation: loadingNavigation\n      }, actionData ? Object.keys(actionData).length === 0 ? {\n        actionData: null\n      } : {\n        actionData\n      } : {}, revalidatingFetchers.length > 0 ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n    }\n    revalidatingFetchers.forEach(rf => {\n      if (fetchControllers.has(rf.key)) {\n        abortFetcher(rf.key);\n      }\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(f => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    let {\n      results,\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, request);\n    if (request.signal.aborted) {\n      return {\n        shortCircuited: true\n      };\n    }\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    revalidatingFetchers.forEach(rf => fetchControllers.delete(rf.key));\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      await startRedirectNavigation(state, redirect.result, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, matchesToLoad, loaderResults, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe(aborted => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return _extends({\n      loaderData,\n      errors\n    }, shouldUpdateFetchers ? {\n      fetchers: new Map(state.fetchers)\n    } : {});\n  }\n  function getFetcher(key) {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(key, routeId, href, opts) {\n    if (isServer) {\n      throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. \" + \"You are likely calling a useFetcher() method in the body of your component. \" + \"Try moving it to a useEffect or a callback.\");\n    }\n    if (fetchControllers.has(key)) abortFetcher(key);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, routeId, opts == null ? void 0 : opts.relative);\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    if (!matches) {\n      setFetcherError(key, routeId, getInternalRouterError(404, {\n        pathname: normalizedPath\n      }));\n      return;\n    }\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n    if (error) {\n      setFetcherError(key, routeId, error);\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, {\n      routeId,\n      path\n    });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher = getSubmittingFetcher(submission, existingFetcher);\n    state.fetchers.set(key, fetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResult = await callLoaderOrAction(\"action\", fetchRequest, match, requestMatches, manifest, mapRouteProperties, basename);\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our action started, so that\n        // should take precedence over this redirect navigation.  We already\n        // set isRevalidationRequired so all loaders for the new route should\n        // fire unless opted out via shouldRevalidate\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        let loadingFetcher = getLoadingFetcher(submission);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return startRedirectNavigation(state, actionResult, {\n          submission,\n          isFetchActionRedirect: true\n        });\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, {\n      [match.route.id]: actionResult.data\n    }, undefined // No need to send through errors since we short circuit above\n    );\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers.filter(rf => rf.key !== key).forEach(rf => {\n      let staleKey = rf.key;\n      let existingFetcher = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      if (fetchControllers.has(staleKey)) {\n        abortFetcher(staleKey);\n      }\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(rf => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    let {\n      results,\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach(r => fetchControllers.delete(r.key));\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      return startRedirectNavigation(state, redirect.result);\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, state.matches, matchesToLoad, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState(_extends({\n        errors,\n        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors)\n      }, didAbortFetchLoads || revalidatingFetchers.length > 0 ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n      isRevalidationRequired = false;\n    }\n  }\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(key, routeId, path, match, matches, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher = getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined);\n    state.fetchers.set(key, loadingFetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let result = await callLoaderOrAction(\"loader\", fetchRequest, match, matches, manifest, mapRouteProperties, basename);\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result = (await resolveDeferredData(result, fetchRequest.signal, true)) || result;\n    }\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(state, result);\n        return;\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error\n        }\n      });\n      return;\n    }\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n    // Put the fetcher back into an idle state\n    let doneFetcher = getDoneFetcher(result.data);\n    state.fetchers.set(key, doneFetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(state, redirect, _temp) {\n    let {\n      submission,\n      replace,\n      isFetchActionRedirect\n    } = _temp === void 0 ? {} : _temp;\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n    let redirectLocation = createLocation(state.location, redirect.location, // TODO: This can be removed once we get rid of useTransition in Remix v2\n    _extends({\n      _isRedirect: true\n    }, isFetchActionRedirect ? {\n      _isFetchActionRedirect: true\n    } : {}));\n    invariant(redirectLocation, \"Expected a location on the redirect navigation\");\n    // Check if this an absolute external redirect that goes to a new origin\n    if (ABSOLUTE_URL_REGEX.test(redirect.location) && isBrowser) {\n      let url = init.history.createURL(redirect.location);\n      let isDifferentBasename = stripBasename(url.pathname, basename) == null;\n      if (routerWindow.location.origin !== url.origin || isDifferentBasename) {\n        if (replace) {\n          routerWindow.location.replace(redirect.location);\n        } else {\n          routerWindow.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n    let redirectHistoryAction = replace === true ? Action.Replace : Action.Push;\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let activeSubmission = submission || getSubmissionFromNavigation(state.navigation);\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (redirectPreserveMethodStatusCodes.has(redirect.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: _extends({}, activeSubmission, {\n          formAction: redirect.location\n        }),\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: getLoadingNavigation(redirectLocation),\n        fetcherSubmission: activeSubmission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    } else {\n      // If we have a submission, we will preserve it through the redirect navigation\n      let overrideNavigation = getLoadingNavigation(redirectLocation, activeSubmission);\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    }\n  }\n  async function callLoadersAndMaybeResolveData(currentMatches, matches, matchesToLoad, fetchersToLoad, request) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([...matchesToLoad.map(match => callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename)), ...fetchersToLoad.map(f => {\n      if (f.matches && f.match && f.controller) {\n        return callLoaderOrAction(\"loader\", createClientSideRequest(init.history, f.path, f.controller.signal), f.match, f.matches, manifest, mapRouteProperties, basename);\n      } else {\n        let error = {\n          type: ResultType.error,\n          error: getInternalRouterError(404, {\n            pathname: f.path\n          })\n        };\n        return error;\n      }\n    })]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n    await Promise.all([resolveDeferredResults(currentMatches, matchesToLoad, loaderResults, loaderResults.map(() => request.signal), false, state.loaderData), resolveDeferredResults(currentMatches, fetchersToLoad.map(f => f.match), fetcherResults, fetchersToLoad.map(f => f.controller ? f.controller.signal : null), true)]);\n    return {\n      results,\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n  function setFetcherError(key, routeId, error) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error\n      },\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, \"Expected fetch controller: \" + key);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, \"Expected fetcher: \" + key);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, \"Expected fetcher: \" + key);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({\n      blockers\n    });\n  }\n  function shouldBlockNavigation(_ref2) {\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = _ref2;\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({\n      currentLocation,\n      nextLocation,\n      historyAction\n    })) {\n      return blockerKey;\n    }\n  }\n  function cancelActiveDeferreds(predicate) {\n    let cancelledRouteIds = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({\n          restoreScrollPosition: y\n        });\n      }\n    }\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(location, matches.map(m => createUseMatchesMatch(m, state.loaderData)));\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties, undefined, manifest);\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: to => init.history.createHref(to),\n    encodeLocation: to => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\nfunction createStaticHandler(routes, opts) {\n  invariant(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties;\n  if (opts != null && opts.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts != null && opts.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, undefined, manifest);\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(request, _temp2) {\n    let {\n      requestContext\n    } = _temp2 === void 0 ? {} : _temp2;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, {\n        method\n      });\n      let {\n        matches: methodNotAllowedMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return _extends({\n      location,\n      basename\n    }, result);\n  }\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(request, _temp3) {\n    let {\n      routeId,\n      requestContext\n    } = _temp3 === void 0 ? {} : _temp3;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, {\n        method\n      });\n    } else if (!matches) {\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let match = routeId ? matches.find(m => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let result = await queryImpl(request, location, matches, requestContext, match);\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      var _result$activeDeferre;\n      let data = Object.values(result.loaderData)[0];\n      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n    return undefined;\n  }\n  async function queryImpl(request, location, matches, requestContext, routeMatch) {\n    invariant(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, routeMatch != null);\n        return result;\n      }\n      let result = await loadRouteData(request, matches, requestContext, routeMatch);\n      return isResponse(result) ? result : _extends({}, result, {\n        actionData: null,\n        actionHeaders: {}\n      });\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error && !isRedirectResponse(e.response)) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    } else {\n      result = await callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename, {\n        isStaticRequest: true,\n        isRouteRequest,\n        requestContext\n      });\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(method + \"() call aborted\");\n      }\n    }\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location\n        }\n      });\n    }\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    }\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: {\n          [actionMatch.route.id]: result.data\n        },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(request, matches, requestContext, undefined, {\n        [boundaryMatch.route.id]: result.error\n      });\n      // action status codes take precedence over loader status codes\n      return _extends({}, context, {\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : 500,\n        actionData: null,\n        actionHeaders: _extends({}, result.headers ? {\n          [actionMatch.route.id]: result.headers\n        } : {})\n      });\n    }\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n    return _extends({}, context, result.statusCode ? {\n      statusCode: result.statusCode\n    } : {}, {\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      actionHeaders: _extends({}, result.headers ? {\n        [actionMatch.route.id]: result.headers\n      } : {})\n    });\n  }\n  async function loadRouteData(request, matches, requestContext, routeMatch, pendingActionError) {\n    let isRouteRequest = routeMatch != null;\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch == null ? void 0 : routeMatch.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : getLoaderMatchesUntilBoundary(matches, Object.keys(pendingActionError || {})[0]);\n    let matchesToLoad = requestMatches.filter(m => m.route.loader || m.route.lazy);\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce((acc, m) => Object.assign(acc, {\n          [m.route.id]: null\n        }), {}),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let results = await Promise.all([...matchesToLoad.map(match => callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename, {\n      isStaticRequest: true,\n      isRouteRequest,\n      requestContext\n    }))]);\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(method + \"() call aborted\");\n    }\n    // Process and commit output from loaders\n    let activeDeferreds = new Map();\n    let context = processRouteLoaderData(matches, matchesToLoad, results, pendingActionError, activeDeferreds);\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set(matchesToLoad.map(match => match.route.id));\n    matches.forEach(match => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return _extends({}, context, {\n      matches,\n      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n    });\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = _extends({}, context, {\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  });\n  return newContext;\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction normalizeTo(location, matches, basename, prependBasename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId != null && relative !== \"path\") {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route.  When using relative:path,\n    // fromRouteId is ignored since that is always relative to the current\n    // location path\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  // Resolve the relative path\n  let path = resolveTo(to ? to : \".\", getPathContributingMatches(contextualMatches).map(m => m.pathnameBase), stripBasename(location.pathname, basename) || location.pathname, relative === \"path\");\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  // Add an ?index param for matched index routes if we don't already have one\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch && activeRouteMatch.route.index && !hasNakedIndexQuery(path.search)) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return {\n      path\n    };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, {\n        method: opts.formMethod\n      })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, {\n      type: \"invalid-body\"\n    })\n  });\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n      Array.from(opts.body.entries()).reduce((acc, _ref3) => {\n        let [name, value] = _ref3;\n        return \"\" + acc + name + \"=\" + value + \"\\n\";\n      }, \"\") : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(typeof FormData === \"function\", \"FormData is not available in this environment\");\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return {\n      path,\n      submission\n    };\n  }\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = \"?\" + searchParams;\n  return {\n    path: createPath(parsedPath),\n    submission\n  };\n}\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex(m => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError) {\n  let actionResult = pendingError ? Object.values(pendingError)[0] : pendingActionData ? Object.values(pendingActionData)[0] : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n    // Always call the loader on new route instances and pending defer cancellations\n    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some(id => id === match.route.id)) {\n      return true;\n    }\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, _extends({\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params\n    }, submission, {\n      actionResult,\n      defaultShouldRevalidate:\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired ||\n      // Clicked the same link, resubmitted a GET form\n      currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||\n      // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n    }));\n  });\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some(m => m.route.id === f.routeId)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.includes(key)) {\n      // Always revalidate if the fetcher was cancelled\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends({\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params\n      }, submission, {\n        actionResult,\n        defaultShouldRevalidate: isRevalidationRequired\n      }));\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew =\n  // [a] -> [a, b]\n  !currentMatch ||\n  // [a, b] -> [a, c]\n  match.route.id !== currentMatch.route.id;\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(route, mapRouteProperties, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== undefined &&\n    // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(!isPropertyStaticallyDefined, \"Route \\\"\" + routeToUpdate.id + \"\\\" has a static property \\\"\" + lazyRouteProperty + \"\\\" \" + \"defined but its lazy function is also returning a value for this property. \" + (\"The lazy route property \\\"\" + lazyRouteProperty + \"\\\" will be ignored.\"));\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, _extends({}, mapRouteProperties(routeToUpdate), {\n    lazy: undefined\n  }));\n}\nasync function callLoaderOrAction(type, request, match, matches, manifest, mapRouteProperties, basename, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let resultType;\n  let result;\n  let onReject;\n  let runHandler = handler => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([handler({\n      request,\n      params: match.params,\n      context: opts.requestContext\n    }), abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([runHandler(handler), loadLazyRouteModule(match.route, mapRouteProperties, manifest)]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return {\n            type: ResultType.data,\n            data: undefined\n          };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n    invariant(result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + (\"\\\"\" + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  if (isResponse(result)) {\n    let status = result.status;\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        location = normalizeTo(new URL(request.url), matches.slice(0, matches.indexOf(match) + 1), basename, true, location);\n      } else if (!opts.isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\") ? new URL(currentUrl.protocol + location) : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (opts.isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null\n      };\n    }\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (opts.isRouteRequest) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        type: resultType || ResultType.data,\n        response: result\n      };\n    }\n    let data;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers\n      };\n    }\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (resultType === ResultType.error) {\n    return {\n      type: resultType,\n      error: result\n    };\n  }\n  if (isDeferredData(result)) {\n    var _result$init, _result$init2;\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n      headers: ((_result$init2 = result.init) == null ? void 0 : _result$init2.headers) && new Headers(result.init.headers)\n    };\n  }\n  return {\n    type: ResultType.data,\n    data: result\n  };\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = {\n    signal\n  };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let {\n      formMethod,\n      formEncType\n    } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({\n        \"Content-Type\": formEncType\n      });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds) {\n  // Fill in loaderData/errors from our loaders\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(!isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n      errors = errors || {};\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (result.statusCode != null && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, matchesToLoad, results, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds) {\n  let {\n    loaderData,\n    errors\n  } = processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds);\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let {\n      key,\n      match,\n      controller\n    } = revalidatingFetchers[index];\n    invariant(fetcherResults !== undefined && fetcherResults[index] !== undefined, \"Did not find corresponding fetcher result\");\n    let result = fetcherResults[index];\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = _extends({}, errors, {\n          [boundaryMatch.route.id]: result.error\n        });\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  return {\n    loaderData,\n    errors\n  };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = _extends({}, newLoaderData);\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find(m => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find(r => r.index || !r.path || r.path === \"/\") || {\n    id: \"__shim-error-route__\"\n  };\n  return {\n    matches: [{\n      params: {},\n      pathname: \"\",\n      pathnameBase: \"\",\n      route\n    }],\n    route\n  };\n}\nfunction getInternalRouterError(status, _temp4) {\n  let {\n    pathname,\n    routeId,\n    method,\n    type\n  } = _temp4 === void 0 ? {} : _temp4;\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide a `loader` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = \"Route \\\"\" + routeId + \"\\\" does not match URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = \"No route matches URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method.toUpperCase() + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide an `action` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (method) {\n      errorMessage = \"Invalid request method \\\"\" + method.toUpperCase() + \"\\\"\";\n    }\n  }\n  return new ErrorResponse(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results) {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return {\n        result,\n        idx: i\n      };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath(_extends({}, parsedPath, {\n    hash: \"\"\n  }));\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\nfunction isDeferredResult(result) {\n  return result.type === ResultType.deferred;\n}\nfunction isErrorResult(result) {\n  return result.type === ResultType.error;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === ResultType.redirect;\n}\nfunction isDeferredData(value) {\n  let deferred = value;\n  return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectResponse(result) {\n  if (!isResponse(result)) {\n    return false;\n  }\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\nfunction isQueryRouteResponse(obj) {\n  return obj && isResponse(obj.response) && (obj.type === ResultType.data || ResultType.error);\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toLowerCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toLowerCase());\n}\nasync function resolveDeferredResults(currentMatches, matchesToLoad, results, signals, isFetcher, currentLoaderData) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    let currentMatch = currentMatches.find(m => m.route.id === match.route.id);\n    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(signal, \"Expected an AbortSignal for revalidating fetcher deferred result\");\n      await resolveDeferredData(result, signal, isFetcher).then(result => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\nasync function resolveDeferredData(result, signal, unwrap) {\n  if (unwrap === void 0) {\n    unwrap = false;\n  }\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n  }\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data\n  };\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some(v => v === \"\");\n}\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(match, loaderData) {\n  let {\n    route,\n    pathname,\n    params\n  } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let {\n    formMethod,\n    formAction,\n    formEncType,\n    text,\n    formData,\n    json\n  } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data,\n      \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data,\n      \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined,\n    \" _hasFetcherDoneAnything \": true\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data,\n    \" _hasFetcherDoneAnything \": true\n  };\n  return fetcher;\n}\n//#endregion\n\nexport { AbortedDeferredError, Action, ErrorResponse, IDLE_BLOCKER, IDLE_FETCHER, IDLE_NAVIGATION, UNSAFE_DEFERRED_SYMBOL, DeferredData as UNSAFE_DeferredData, convertRoutesToDataRoutes as UNSAFE_convertRoutesToDataRoutes, getPathContributingMatches as UNSAFE_getPathContributingMatches, invariant as UNSAFE_invariant, warning as UNSAFE_warning, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, createRouter, createStaticHandler, defer, generatePath, getStaticContextFromError, getToPathname, isDeferredData, isRouteErrorResponse, joinPaths, json, matchPath, matchRoutes, normalizePathname, parsePath, redirect, resolvePath, resolveTo, stripBasename };\n//# sourceMappingURL=router.js.map\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        continue;\n      }\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var expressionsInterfaces = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\n    expressionsInterfaces = value;\n  };\n\n  var getExpressionInterfaces = function getExpressionInterfaces() {\n    return expressionsInterfaces;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\n                } catch (error) {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function getRegisteredRenderer() {\n    // Returns canvas by default for compatibility\n    if (renderers.canvas) {\n      return 'canvas';\n    } // Returns any renderer that is registered\n\n\n    for (var key in renderers) {\n      if (renderers[key]) {\n        return key;\n      }\n    }\n\n    return '';\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n    this.expressionsPlugin = getExpressionsPlugin();\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : getRegisteredRenderer() || 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    if (!params.path) {\n      this.trigger('destroy');\n    } else {\n      this.setParams(params);\n    }\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function (width, height) {\n    // Adding this validation for backwards compatibility in case an event object was being passed down\n    var _width = typeof width === 'number' ? width : undefined;\n\n    var _height = typeof height === 'number' ? height : undefined;\n\n    this.renderer.updateContainerSize(_width, _height);\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      if (this.expressionsPlugin) {\n        this.expressionsPlugin.resetFrame();\n      }\n\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_play');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_pause');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.expressionsPlugin = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setLoop = function (isLooping) {\n    this.loop = isLooping;\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var initFrame = initialDefaultFrame;\n  var mathAbs = Math.abs;\n\n  function interpolateValue(frameNum, caching) {\n    var offsetTime = this.offsetTime;\n    var newValue;\n\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n\n    var iterationIndex = caching.lastIndex;\n    var i = iterationIndex;\n    var len = this.keyframes.length - 1;\n    var flag = true;\n    var keyData;\n    var nextKeyData;\n    var keyframeMetadata;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n\n        iterationIndex = 0;\n        break;\n      }\n\n      if (nextKeyData.t - offsetTime > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n\n    keyframeMetadata = this.keyframesMetadata[i] || {};\n    var k;\n    var kLen;\n    var perc;\n    var jLen;\n    var j;\n    var fnc;\n    var nextKeyTime = nextKeyData.t - offsetTime;\n    var keyTime = keyData.t - offsetTime;\n    var endValue;\n\n    if (keyData.to) {\n      if (!keyframeMetadata.bezierData) {\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n\n      var bezierData = keyframeMetadata.bezierData;\n\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        } // caching._lastKeyframeIndex = -1;\n\n      } else {\n        if (keyframeMetadata.__fnct) {\n          fnc = keyframeMetadata.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyframeMetadata.__fnct = fnc;\n        }\n\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        var distanceInLine = bezierData.segmentLength * perc;\n        var segmentPerc;\n        var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n        j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n\n            break;\n          }\n\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      var outX;\n      var outY;\n      var inX;\n      var inY;\n      var keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          var quatStart = createQuaternion(keyData.s);\n          var quatEnd = createQuaternion(endValue);\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyframeMetadata.__fnct) {\n                  keyframeMetadata.__fnct = [];\n                }\n\n                if (!keyframeMetadata.__fnct[i]) {\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyframeMetadata.__fnct[i] = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct[i];\n                }\n              } else if (!keyframeMetadata.__fnct) {\n                outX = keyData.o.x;\n                outY = keyData.o.y;\n                inX = keyData.i.x;\n                inY = keyData.i.y;\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                keyData.keyframeMetadata = fnc;\n              } else {\n                fnc = keyframeMetadata.__fnct;\n              }\n\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n  function slerp(a, b, t) {\n    var out = [];\n    var ax = a[0];\n    var ay = a[1];\n    var az = a[2];\n    var aw = a[3];\n    var bx = b[0];\n    var by = b[1];\n    var bz = b[2];\n    var bw = b[3];\n    var omega;\n    var cosom;\n    var sinom;\n    var scale0;\n    var scale1;\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n    if (cosom < 0.0) {\n      cosom = -cosom;\n      bx = -bx;\n      by = -by;\n      bz = -bz;\n      bw = -bw;\n    }\n\n    if (1.0 - cosom > 0.000001) {\n      omega = Math.acos(cosom);\n      sinom = Math.sin(omega);\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\n      scale1 = Math.sin(t * omega) / sinom;\n    } else {\n      scale0 = 1.0 - t;\n      scale1 = t;\n    }\n\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    return out;\n  }\n\n  function quaternionToEuler(out, quat) {\n    var qx = quat[0];\n    var qy = quat[1];\n    var qz = quat[2];\n    var qw = quat[3];\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n    out[0] = heading / degToRads;\n    out[1] = attitude / degToRads;\n    out[2] = bank / degToRads;\n  }\n\n  function createQuaternion(values) {\n    var heading = values[0] * degToRads;\n    var attitude = values[1] * degToRads;\n    var bank = values[2] * degToRads;\n    var c1 = Math.cos(heading / 2);\n    var c2 = Math.cos(attitude / 2);\n    var c3 = Math.cos(bank / 2);\n    var s1 = Math.sin(heading / 2);\n    var s2 = Math.sin(attitude / 2);\n    var s3 = Math.sin(bank / 2);\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\n    return [x, y, z, w];\n  }\n\n  function getValueAtCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n    if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      var renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  function setVValue(val) {\n    var multipliedValue;\n\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      var i = 0;\n      var len = this.v.length;\n\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n\n        i += 1;\n      }\n    }\n  }\n\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = this.kf ? this.pv : this.data.k;\n\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n\n  function ValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function MultiDimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    var i;\n    var len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: 0,\n      _lastKeyframeIndex: -1\n    };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    var i;\n    var len = data.k.length;\n    var s;\n    var e;\n    var to;\n    var ti;\n\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n\n        if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.data = data;\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    var arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: createTypedArray('float32', arrLen)\n    };\n    this.addEffect = addEffect;\n  }\n\n  var PropertyFactory = function () {\n    function getProp(elem, data, type, mult, container) {\n      if (data.sid) {\n        data = elem.globalData.slotManager.getProp(data);\n      }\n\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  ShapePath.prototype.length = function () {\n    return this._length;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function multiply(matrix) {\n      var matrixProps = matrix.props;\n      return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.multiply = multiply;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.12.2';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      this.appliedTransformations = 0;\n      this.pre.reset();\n\n      if (!this.a.effectsSequence.length) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function floatEqual(a, b) {\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\n  }\n\n  function floatZero(f) {\n    return Math.abs(f) <= 0.00001;\n  }\n\n  function lerp(p0, p1, amount) {\n    return p0 * (1 - amount) + p1 * amount;\n  }\n\n  function lerpPoint(p0, p1, amount) {\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\n  }\n\n  function quadRoots(a, b, c) {\n    // no root\n    if (a === 0) return [];\n    var s = b * b - 4 * a * c; // Complex roots\n\n    if (s < 0) return [];\n    var singleRoot = -b / (2 * a); // 1 root\n\n    if (s === 0) return [singleRoot];\n    var delta = Math.sqrt(s) / (2 * a); // 2 roots\n\n    return [singleRoot - delta, singleRoot + delta];\n  }\n\n  function polynomialCoefficients(p0, p1, p2, p3) {\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\n  }\n\n  function singlePoint(p) {\n    return new PolynomialBezier(p, p, p, p, false);\n  }\n\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\n    if (linearize && pointEqual(p0, p1)) {\n      p1 = lerpPoint(p0, p3, 1 / 3);\n    }\n\n    if (linearize && pointEqual(p2, p3)) {\n      p2 = lerpPoint(p0, p3, 2 / 3);\n    }\n\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\n    this.a = [coeffx[0], coeffy[0]];\n    this.b = [coeffx[1], coeffy[1]];\n    this.c = [coeffx[2], coeffy[2]];\n    this.d = [coeffx[3], coeffy[3]];\n    this.points = [p0, p1, p2, p3];\n  }\n\n  PolynomialBezier.prototype.point = function (t) {\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\n  };\n\n  PolynomialBezier.prototype.derivative = function (t) {\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\n  };\n\n  PolynomialBezier.prototype.tangentAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[1], p[0]);\n  };\n\n  PolynomialBezier.prototype.normalAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[0], p[1]);\n  };\n\n  PolynomialBezier.prototype.inflectionPoints = function () {\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\n    if (floatZero(denom)) return [];\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\n    if (square < 0) return [];\n    var root = Math.sqrt(square);\n\n    if (floatZero(root)) {\n      if (root > 0 && root < 1) return [tcusp];\n      return [];\n    }\n\n    return [tcusp - root, tcusp + root].filter(function (r) {\n      return r > 0 && r < 1;\n    });\n  };\n\n  PolynomialBezier.prototype.split = function (t) {\n    if (t <= 0) return [singlePoint(this.points[0]), this];\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\n    var p20 = lerpPoint(p10, p11, t);\n    var p21 = lerpPoint(p11, p12, t);\n    var p3 = lerpPoint(p20, p21, t);\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\n  };\n\n  function extrema(bez, comp) {\n    var min = bez.points[0][comp];\n    var max = bez.points[bez.points.length - 1][comp];\n\n    if (min > max) {\n      var e = max;\n      max = min;\n      min = e;\n    } // Derivative roots to find min/max\n\n\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\n\n    for (var i = 0; i < f.length; i += 1) {\n      if (f[i] > 0 && f[i] < 1) {\n        var val = bez.point(f[i])[comp];\n        if (val < min) min = val;else if (val > max) max = val;\n      }\n    }\n\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  PolynomialBezier.prototype.bounds = function () {\n    return {\n      x: extrema(this, 0),\n      y: extrema(this, 1)\n    };\n  };\n\n  PolynomialBezier.prototype.boundingBox = function () {\n    var bounds = this.bounds();\n    return {\n      left: bounds.x.min,\n      right: bounds.x.max,\n      top: bounds.y.min,\n      bottom: bounds.y.max,\n      width: bounds.x.max - bounds.x.min,\n      height: bounds.y.max - bounds.y.min,\n      cx: (bounds.x.max + bounds.x.min) / 2,\n      cy: (bounds.y.max + bounds.y.min) / 2\n    };\n  };\n\n  function intersectData(bez, t1, t2) {\n    var box = bez.boundingBox();\n    return {\n      cx: box.cx,\n      cy: box.cy,\n      width: box.width,\n      height: box.height,\n      bez: bez,\n      t: (t1 + t2) / 2,\n      t1: t1,\n      t2: t2\n    };\n  }\n\n  function splitData(data) {\n    var split = data.bez.split(0.5);\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\n  }\n\n  function boxIntersect(b1, b2) {\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\n  }\n\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\n    if (!boxIntersect(d1, d2)) return;\n\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\n      intersections.push([d1.t, d2.t]);\n      return;\n    }\n\n    var d1s = splitData(d1);\n    var d2s = splitData(d2);\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n  }\n\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\n    if (tolerance === undefined) tolerance = 2;\n    if (maxRecursion === undefined) maxRecursion = 7;\n    var intersections = [];\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\n    return intersections;\n  };\n\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\n  };\n\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\n  };\n\n  function crossProduct(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  function lineIntersection(start1, end1, start2, end2) {\n    var v1 = [start1[0], start1[1], 1];\n    var v2 = [end1[0], end1[1], 1];\n    var v3 = [start2[0], start2[1], 1];\n    var v4 = [end2[0], end2[1], 1];\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\n    if (floatZero(r[2])) return null;\n    return [r[0] / r[2], r[1] / r[2]];\n  }\n\n  function polarOffset(p, angle, length) {\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\n  }\n\n  function pointDistance(p1, p2) {\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\n  }\n\n  function pointEqual(p1, p2) {\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\n  }\n\n  function ZigZagModifier() {}\n\n  extendPrototype([ShapeModifier], ZigZagModifier);\n\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\n  };\n\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\n    var angO = angle - Math.PI / 2;\n    var angI = angle + Math.PI / 2;\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\n  }\n\n  function getPerpendicularVector(pt1, pt2) {\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\n    var rot = -Math.PI * 0.5;\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\n    return rotatedVector;\n  }\n\n  function getProjectingAngle(path, cur) {\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\n    var nextIndex = (cur + 1) % path.length();\n    var prevPoint = path.v[prevIndex];\n    var nextPoint = path.v[nextIndex];\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\n  }\n\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\n    var angle = getProjectingAngle(path, cur);\n    var point = path.v[cur % path._length];\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\n    var nextPoint = path.v[(cur + 1) % path._length];\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\n  }\n\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\n    for (var i = 0; i < frequency; i += 1) {\n      var t = (i + 1) / (frequency + 1);\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\n      var angle = segment.normalAngle(t);\n      var point = segment.point(t);\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\n      direction = -direction;\n    }\n\n    return direction;\n  }\n\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\n    var count = path._length;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n\n    if (!path.c) {\n      count -= 1;\n    }\n\n    if (count === 0) return clonedPath;\n    var direction = -1;\n    var segment = PolynomialBezier.shapeSegment(path, 0);\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\n\n    for (var i = 0; i < count; i += 1) {\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\n\n      if (i === count - 1 && !path.c) {\n        segment = null;\n      } else {\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\n      }\n\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\n    }\n\n    return clonedPath;\n  };\n\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amplitude = this.amplitude.v;\n    var frequency = Math.max(0, Math.round(this.frequency.v));\n    var pointType = this.pointsType.v;\n\n    if (amplitude !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function linearOffset(p1, p2, amount) {\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\n  }\n\n  function offsetSegment(segment, amount) {\n    var p0;\n    var p1a;\n    var p1b;\n    var p2b;\n    var p2a;\n    var p3;\n    var e;\n    e = linearOffset(segment.points[0], segment.points[1], amount);\n    p0 = e[0];\n    p1a = e[1];\n    e = linearOffset(segment.points[1], segment.points[2], amount);\n    p1b = e[0];\n    p2b = e[1];\n    e = linearOffset(segment.points[2], segment.points[3], amount);\n    p2a = e[0];\n    p3 = e[1];\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\n    if (p1 === null) p1 = p1a;\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\n    if (p2 === null) p2 = p2a;\n    return new PolynomialBezier(p0, p1, p2, p3);\n  }\n\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\n    var p0 = seg1.points[3];\n    var p1 = seg2.points[0]; // Bevel\n\n    if (lineJoin === 3) return p0; // Connected, they don't need a joint\n\n    if (pointEqual(p0, p1)) return p0; // Round\n\n    if (lineJoin === 2) {\n      var angleOut = -seg1.tangentAngle(1);\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\n      return p1;\n    } // Miter\n\n\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\n    var intersection = lineIntersection(t0, p0, p1, t1);\n\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\n      return intersection;\n    }\n\n    return p0;\n  }\n\n  function getIntersection(a, b) {\n    var intersect = a.intersections(b);\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\n    if (intersect.length) return intersect[0];\n    return null;\n  }\n\n  function pruneSegmentIntersection(a, b) {\n    var outa = a.slice();\n    var outb = b.slice();\n    var intersect = getIntersection(a[a.length - 1], b[0]);\n\n    if (intersect) {\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\n      outb[0] = b[0].split(intersect[1])[1];\n    }\n\n    if (a.length > 1 && b.length > 1) {\n      intersect = getIntersection(a[0], b[b.length - 1]);\n\n      if (intersect) {\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\n      }\n    }\n\n    return [outa, outb];\n  }\n\n  function pruneIntersections(segments) {\n    var e;\n\n    for (var i = 1; i < segments.length; i += 1) {\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\n      segments[i - 1] = e[0];\n      segments[i] = e[1];\n    }\n\n    if (segments.length > 1) {\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\n      segments[segments.length - 1] = e[0];\n      segments[0] = e[1];\n    }\n\n    return segments;\n  }\n\n  function offsetSegmentSplit(segment, amount) {\n    /*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */\n    var flex = segment.inflectionPoints();\n    var left;\n    var right;\n    var split;\n    var mid;\n\n    if (flex.length === 0) {\n      return [offsetSegment(segment, amount)];\n    }\n\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\n      split = segment.split(flex[0]);\n      left = split[0];\n      right = split[1];\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\n    }\n\n    split = segment.split(flex[0]);\n    left = split[0];\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\n    split = split[1].split(t);\n    mid = split[0];\n    right = split[1];\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\n  }\n\n  function OffsetPathModifier() {}\n\n  extendPrototype([ShapeModifier], OffsetPathModifier);\n\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\n    this.lineJoin = data.lj;\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\n  };\n\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\n    var outputBezier = shapePool.newElement();\n    outputBezier.c = inputBezier.c;\n    var count = inputBezier.length();\n\n    if (!inputBezier.c) {\n      count -= 1;\n    }\n\n    var i;\n    var j;\n    var segment;\n    var multiSegments = [];\n\n    for (i = 0; i < count; i += 1) {\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\n      multiSegments.push(offsetSegmentSplit(segment, amount));\n    }\n\n    if (!inputBezier.c) {\n      for (i = count - 1; i >= 0; i -= 1) {\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\n        multiSegments.push(offsetSegmentSplit(segment, amount));\n      }\n    }\n\n    multiSegments = pruneIntersections(multiSegments); // Add bezier segments to the output and apply line joints\n\n    var lastPoint = null;\n    var lastSeg = null;\n\n    for (i = 0; i < multiSegments.length; i += 1) {\n      var multiSegment = multiSegments[i];\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\n      lastSeg = multiSegment[multiSegment.length - 1];\n\n      for (j = 0; j < multiSegment.length; j += 1) {\n        segment = multiSegment[j];\n\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\n        } else {\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\n        }\n\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\n        lastPoint = segment.points[3];\n      }\n    }\n\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\n    return outputBezier;\n  };\n\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n    var miterLimit = this.miterLimit.v;\n    var lineJoin = this.lineJoin;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var BLACK_FLAG_CODE_POINT = 127988;\n    var CANCEL_TAG_CODE_POINT = 917631;\n    var A_TAG_CODE_POINT = 917601;\n    var Z_TAG_CODE_POINT = 917626;\n    var VARIATION_SELECTOR_16_CODE_POINT = 65039;\n    var ZERO_WIDTH_JOINER_CODE_POINT = 8205;\n    var REGIONAL_CHARACTER_A_CODE_POINT = 127462;\n    var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName); // Using the char instead of char.charCodeAt(0)\n      // to avoid collisions between equal chars\n\n      var index = _char2;\n\n      if (!fontData.cache[index]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function getCodePoint(string) {\n      var codePoint = 0;\n      var first = string.charCodeAt(0);\n\n      if (first >= 0xD800 && first <= 0xDBFF) {\n        var second = string.charCodeAt(1);\n\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          codePoint = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n\n      return codePoint;\n    } // Skin tone modifiers\n\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(charCode) {\n      return charCode === ZERO_WIDTH_JOINER_CODE_POINT;\n    } // This codepoint may change the appearance of the preceding character.\n    // If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\n    // as a colorful image as compared to a monochrome text variant.\n\n\n    function isVariationSelector(charCode) {\n      return charCode === VARIATION_SELECTOR_16_CODE_POINT;\n    } // The regional indicator symbols are a set of 26 alphabetic Unicode\n    /// characters (AZ) intended to be used to encode ISO 3166-1 alpha-2\n    // two-letter country codes in a way that allows optional special treatment.\n\n\n    function isRegionalCode(string) {\n      var codePoint = getCodePoint(string);\n\n      if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {\n        return true;\n      }\n\n      return false;\n    } // Some Emoji implementations represent combinations of\n    // two regional indicator letters as a single flag symbol.\n\n\n    function isFlagEmoji(string) {\n      return isRegionalCode(string.substr(0, 2)) && isRegionalCode(string.substr(2, 2));\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    } // Regional flags start with a BLACK_FLAG_CODE_POINT\n    // folowed by 5 chars in the TAG range\n    // and end with a CANCEL_TAG_CODE_POINT\n\n\n    function isRegionalFlag(text, index) {\n      var codePoint = getCodePoint(text.substr(index, 2));\n\n      if (codePoint !== BLACK_FLAG_CODE_POINT) {\n        return false;\n      }\n\n      var count = 0;\n      index += 2;\n\n      while (count < 5) {\n        codePoint = getCodePoint(text.substr(index, 2));\n\n        if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {\n          return false;\n        }\n\n        count += 1;\n        index += 2;\n      }\n\n      return getCodePoint(text.substr(index, 2)) === CANCEL_TAG_CODE_POINT;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isFlagEmoji = isFlagEmoji;\n    Font.isRegionalCode = isRegionalCode;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    Font.isRegionalFlag = isRegionalFlag;\n    Font.isVariationSelector = isVariationSelector;\n    Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function SlotManager(animationData) {\n    this.animationData = animationData;\n  }\n\n  SlotManager.prototype.getProp = function (data) {\n    if (this.animationData.slots && this.animationData.slots[data.sid]) {\n      return Object.assign(data, this.animationData.slots[data.sid].p);\n    }\n\n    return data;\n  };\n\n  function slotFactory(animationData) {\n    return new SlotManager(animationData);\n  }\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      var expressionsInterfaces = getExpressionInterfaces();\n\n      if (!expressionsInterfaces) {\n        return;\n      }\n\n      var LayerExpressionInterface = expressionsInterfaces('layer');\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\n      var TextExpressionInterface = expressionsInterfaces('text');\n      var CompExpressionInterface = expressionsInterfaces('comp');\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    var expressionsInterfaces = getExpressionInterfaces();\n\n    if (!expressionsInterfaces) {\n      return;\n    }\n\n    var FootageInterface = expressionsInterfaces('footage');\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementById = function (ind) {\n    var i;\n    var len = this.elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i].data.ind === ind) {\n        return this.elements[i];\n      }\n    }\n\n    return null;\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.slotManager = slotFactory(animData);\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  var effectTypes = {\n    TRANSFORM_EFFECT: 'transformEFfect'\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      var mat = new Matrix();\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _localMatMdf: false,\n        _opMdf: false,\n        mat: mat,\n        localMat: mat,\n        localOpacity: 1\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);\n          }\n        }\n      }\n\n      if (this.finalTransform._matMdf) {\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderLocalTransform: function renderLocalTransform() {\n      if (this.localTransforms) {\n        var i = 0;\n        var len = this.localTransforms.length;\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n\n        if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {\n          while (i < len) {\n            if (this.localTransforms[i]._mdf) {\n              this.finalTransform._localMatMdf = true;\n            }\n\n            if (this.localTransforms[i]._opMdf && !this.finalTransform._opMdf) {\n              this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n              this.finalTransform._opMdf = true;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._localMatMdf) {\n          var localMat = this.finalTransform.localMat;\n          this.localTransforms[0].matrix.clone(localMat);\n\n          for (i = 1; i < len; i += 1) {\n            var lmat = this.localTransforms[i].matrix;\n            localMat.multiply(lmat);\n          }\n\n          localMat.multiply(this.finalTransform.mat);\n        }\n\n        if (this.finalTransform._opMdf) {\n          var localOp = this.finalTransform.localOpacity;\n\n          for (i = 0; i < len; i += 1) {\n            localOp *= this.localTransforms[i].opacity * 0.01;\n          }\n\n          this.finalTransform.localOpacity = localOp;\n        }\n      }\n    },\n    searchEffectTransforms: function searchEffectTransforms() {\n      if (this.renderableEffectsManager) {\n        var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n\n        if (transformEffects.length) {\n          this.localTransforms = [];\n          this.finalTransform.localMat = new Matrix();\n          var i = 0;\n          var len = transformEffects.length;\n\n          for (i = 0; i < len; i += 1) {\n            this.localTransforms.push(transformEffects[i]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true,\n      svgLumaHidden: true,\n      offscreenCanvas: typeof OffscreenCanvas !== 'undefined'\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    if (/firefox/i.test(navigator.userAgent)) {\n      ob.svgLumaHidden = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects$1 = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects$1[type]) {\n        var Effect = registeredEffects$1[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects$1[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  SVGEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect$1(id, effect, countsAsEffect) {\n    registeredEffects$1[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      if (this.data.td) {\n        this.matteMasks = {};\n        var gg = createNS('g');\n        gg.setAttribute('id', this.layerId);\n        gg.appendChild(this.layerElement);\n        layerElementParent = gg;\n        this.globalData.defs.appendChild(gg);\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._localMatMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.localMat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.localOpacity);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n      this.searchEffectTransforms();\n    },\n    getMatte: function getMatte(matteType) {\n      // This should not be a common case. But for backward compatibility, we'll create the matte object.\n      // It solves animations that have two consecutive layers marked as matte masks.\n      // Which is an undefined behavior in AE.\n      if (!this.matteMasks) {\n        this.matteMasks = {};\n      }\n\n      if (!this.matteMasks[matteType]) {\n        var id = this.layerId + '_' + matteType;\n        var filId;\n        var fil;\n        var useElement;\n        var gg;\n\n        if (matteType === 1 || matteType === 3) {\n          var masker = createNS('mask');\n          masker.setAttribute('id', id);\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          masker.appendChild(useElement);\n          this.globalData.defs.appendChild(masker);\n\n          if (!featureSupport.maskType && matteType === 1) {\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(useElement);\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (matteType === 2) {\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', id);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          maskGrouper.appendChild(useElement);\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n\n        this.matteMasks[matteType] = id;\n      }\n\n      return this.matteMasks[matteType];\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderLocalTransform();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n\n    if (this.assetData && this.assetData.sid) {\n      this.assetData = globalData.slotManager.getProp(this.assetData);\n    }\n\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              mat.multiply(itemData.transformers[k].mProps.v);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n\n    if (data.d && data.d.sid) {\n      data.d = elem.globalData.slotManager.getProp(data.d);\n    }\n\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n    var shouldCombineNext = false;\n    var currentChars = '';\n\n    while (i < len) {\n      shouldCombine = shouldCombineNext;\n      shouldCombineNext = false;\n      charCode = text.charCodeAt(i);\n      currentChars = text.charAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        shouldCombine = true; // It's a potential surrogate pair (this is the High surrogate)\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        if (FontManager.isRegionalFlag(text, i)) {\n          currentChars = text.substr(i, 14);\n        } else {\n          secondCharCode = text.charCodeAt(i + 1); // It's a surrogate pair (this is the Low surrogate)\n\n          if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n            if (FontManager.isModifier(charCode, secondCharCode)) {\n              currentChars = text.substr(i, 2);\n              shouldCombine = true;\n            } else if (FontManager.isFlagEmoji(text.substr(i, 4))) {\n              currentChars = text.substr(i, 4);\n            } else {\n              currentChars = text.substr(i, 2);\n            }\n          }\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isVariationSelector(charCode)) {\n          shouldCombine = true;\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        shouldCombine = true;\n        shouldCombineNext = true;\n      }\n\n      if (shouldCombine) {\n        charactersArray[charactersArray.length - 1] += currentChars;\n        shouldCombine = false;\n      } else {\n        charactersArray.push(currentChars);\n      }\n\n      i += currentChars.length;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.setCurrentData(dData);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  ITextElement.prototype.validateText = function () {\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    this.validateText();\n\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\n    var i = 0;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ind === ind) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\n\n      if (elementIndex === -1) {\n        return;\n      }\n\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\n        this.buildItem(elementIndex);\n        this.addPendingElement(element);\n      } else {\n        var matteElement = elements[elementIndex];\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\n        element.setMatte(matteMask);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\n            var matteElement = this.elements[elementIndex];\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\n            element.setMatte(matteMask);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height,\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  var lumaLoader = function lumaLoader() {\n    var id = '__lottie_element_luma_buffer';\n    var lumaBuffer = null;\n    var lumaBufferCtx = null;\n    var svg = null; // This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\n    // Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\n    // For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\n    // Naming it solution 2 to mark the extra comment lines.\n\n    /*\r\n    var svgString = [\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\r\n      '<filter id=\"' + id + '\">',\r\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0',\r\n      '\"/>',\r\n      '</filter>',\r\n      '</svg>',\r\n    ].join('');\r\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n    var url = URL.createObjectURL(blob);\r\n    */\n\n    function createLumaSvgFilter() {\n      var _svg = createNS('svg');\n\n      var fil = createNS('filter');\n      var matrix = createNS('feColorMatrix');\n      fil.setAttribute('id', id);\n      matrix.setAttribute('type', 'matrix');\n      matrix.setAttribute('color-interpolation-filters', 'sRGB');\n      matrix.setAttribute('values', '0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');\n      fil.appendChild(matrix);\n\n      _svg.appendChild(fil);\n\n      _svg.setAttribute('id', id + '_svg');\n\n      if (featureSupport.svgLumaHidden) {\n        _svg.style.display = 'none';\n      }\n\n      return _svg;\n    }\n\n    function loadLuma() {\n      if (!lumaBuffer) {\n        svg = createLumaSvgFilter();\n        document.body.appendChild(svg);\n        lumaBuffer = createTag('canvas');\n        lumaBufferCtx = lumaBuffer.getContext('2d'); // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n        lumaBufferCtx.filter = 'url(#' + id + ')';\n        lumaBufferCtx.fillStyle = 'rgba(0,0,0,0)';\n        lumaBufferCtx.fillRect(0, 0, 1, 1);\n      }\n    }\n\n    function getLuma(canvas) {\n      if (!lumaBuffer) {\n        loadLuma();\n      }\n\n      lumaBuffer.width = canvas.width;\n      lumaBuffer.height = canvas.height; // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n      lumaBufferCtx.filter = 'url(#' + id + ')';\n      return lumaBuffer;\n    }\n\n    return {\n      load: loadLuma,\n      get: getLuma\n    };\n  };\n\n  function createCanvas(width, height) {\n    if (featureSupport.offscreenCanvas) {\n      return new OffscreenCanvas(width, height);\n    }\n\n    var canvas = createTag('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  var assetLoader = function () {\n    return {\n      loadLumaCanvas: lumaLoader.load,\n      getLumaCanvas: lumaLoader.get,\n      createCanvas: createCanvas\n    };\n  }();\n\n  var registeredEffects = {};\n\n  function CVEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(elem.effectsManager.effectElements[i], elem);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  CVEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  CVEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect(id, effect) {\n    registeredEffects[id] = {\n      effect: effect\n    };\n  }\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  var operationsMap = {\n    1: 'source-in',\n    2: 'source-out',\n    3: 'source-in',\n    4: 'source-out'\n  };\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      // If the layer is masked we will use two buffers to store each different states of the drawing\n      // This solution is not ideal for several reason. But unfortunately, because of the recursive\n      // nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\n      // TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\n      // It might be challenging because the layer most likely is transformed in some way\n      if (this.data.tt >= 1) {\n        this.buffers = [];\n        var canvasContext = this.globalData.canvasContext;\n        var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas);\n        var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas2);\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          assetLoader.loadLumaCanvas();\n        }\n      }\n\n      this.canvasContext = this.globalData.canvasContext;\n      this.transformCanvas = this.globalData.transformCanvas;\n      this.renderableEffectsManager = new CVEffects(this);\n      this.searchEffectTransforms();\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n      this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    clearCanvas: function clearCanvas(canvasContext) {\n      canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\n    },\n    prepareLayer: function prepareLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[0];\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx); // on the first buffer we store the current state of the global drawing\n\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // The next four lines are to clear the canvas\n        // TODO: Check if there is a way to clear the canvas without resetting the transform\n\n        this.currentTransform = this.canvasContext.getTransform();\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform);\n      }\n    },\n    exitLayer: function exitLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[1]; // On the second buffer we store the current state of the global drawing\n        // that only contains the content of this layer\n        // (if it is a composition, it also includes the nested layers)\n\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx);\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // We clear the canvas again\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform); // We draw the mask\n\n        var mask = this.comp.getElementById('tp' in this.data ? this.data.tp : this.data.ind - 1);\n        mask.renderFrame(true); // We draw the second buffer (that contains the content of this layer)\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0); // If the mask is a Luma matte, we need to do two extra painting operations\n        // the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          // We copy the painted mask to a buffer that has a color matrix filter applied to it\n          // that applies the rgb values to the alpha channel\n          var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);\n          var lumaBufferCtx = lumaBuffer.getContext('2d');\n          lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n          this.clearCanvas(this.canvasContext); // we repaint the context with the mask applied to it\n\n          this.canvasContext.drawImage(lumaBuffer, 0, 0);\n        }\n\n        this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];\n        this.canvasContext.drawImage(buffer, 0, 0); // We finally draw the first buffer (that contains the content of the global drawing)\n        // We use destination-over to draw the global drawing below the current layer\n\n        this.canvasContext.globalCompositeOperation = 'destination-over';\n        this.canvasContext.drawImage(this.buffers[0], 0, 0);\n        this.canvasContext.setTransform(this.currentTransform); // We reset the globalCompositeOperation to source-over, the standard type of operation\n\n        this.canvasContext.globalCompositeOperation = 'source-over';\n      }\n    },\n    renderFrame: function renderFrame(forceRender) {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      if (this.data.td === 1 && !forceRender) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderLocalTransform();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.prepareLayer();\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n      this.exitLayer();\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          renderer.ctxStrokeStyle(type === 'st' ? currentStyle.co : currentStyle.grd); // ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n\n          renderer.ctxLineWidth(currentStyle.wi); // ctx.lineWidth = currentStyle.wi;\n\n          renderer.ctxLineCap(currentStyle.lc); // ctx.lineCap = currentStyle.lc;\n\n          renderer.ctxLineJoin(currentStyle.lj); // ctx.lineJoin = currentStyle.lj;\n\n          renderer.ctxMiterLimit(currentStyle.ml || 0); // ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          renderer.ctxFillStyle(type === 'fl' ? currentStyle.co : currentStyle.grd); // ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            // ctx.stroke();\n            renderer.ctxStroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          // ctx.fill(currentStyle.r);\n          this.globalData.renderer.ctxFill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    this.globalData.renderer.ctxLineCap('butt'); // ctx.lineCap = 'butt';\n\n    this.globalData.renderer.ctxLineJoin('miter'); // ctx.lineJoin = 'miter';\n\n    this.globalData.renderer.ctxMiterLimit(4); // ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n    var renderer = this.globalData.renderer;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          renderer.save();\n          renderer.ctxTransform(renderedLetter.p);\n          renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              renderer.ctxFillStyle(renderedLetter.fc);\n              lastFill = renderedLetter.fc; // ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            renderer.ctxFillStyle(this.values.fill); // ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxFill(); // this.globalData.canvasContext.fill();\n          /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              renderer.ctxLineWidth(renderedLetter.sw); // ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            renderer.ctxLineWidth(this.values.sWidth); // ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              renderer.ctxStrokeStyle(renderedLetter.sc); // ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            renderer.ctxStrokeStyle(this.values.stroke); // ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxStroke(); // this.globalData.canvasContext.stroke();\n          /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    // var ctx = this.canvasContext;\n    this.globalData.renderer.ctxFillStyle(this.data.sc); // ctx.fillStyle = this.data.sc;\n\n    this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh); // ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n    //\n  };\n\n  function CanvasRendererBase() {}\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n  };\n\n  CanvasRendererBase.prototype.ctxFillStyle = function (value) {\n    this.canvasContext.fillStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxStrokeStyle = function (value) {\n    this.canvasContext.strokeStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineWidth = function (value) {\n    this.canvasContext.lineWidth = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineCap = function (value) {\n    this.canvasContext.lineCap = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineJoin = function (value) {\n    this.canvasContext.lineJoin = value;\n  };\n\n  CanvasRendererBase.prototype.ctxMiterLimit = function (value) {\n    this.canvasContext.miterLimit = value;\n  };\n\n  CanvasRendererBase.prototype.ctxFill = function (rule) {\n    this.canvasContext.fill(rule);\n  };\n\n  CanvasRendererBase.prototype.ctxFillRect = function (x, y, w, h) {\n    this.canvasContext.fillRect(x, y, w, h);\n  };\n\n  CanvasRendererBase.prototype.ctxStroke = function () {\n    this.canvasContext.stroke();\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function () {\n    this.canvasContext.save();\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.restore(actionFlag);\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.contextData.setContext(this.canvasContext);\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (width) {\n      elementWidth = width;\n      elementHeight = height;\n      this.canvasContext.canvas.width = elementWidth;\n      this.canvasContext.canvas.height = elementHeight;\n    } else {\n      if (this.animationItem.wrapper && this.animationItem.container) {\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n      } else {\n        elementWidth = this.canvasContext.canvas.width;\n        elementHeight = this.canvasContext.canvas.height;\n      }\n\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CanvasContext() {\n    this.opacity = -1;\n    this.transform = createTypedArray('float32', 16);\n    this.fillStyle = '';\n    this.strokeStyle = '';\n    this.lineWidth = '';\n    this.lineCap = '';\n    this.lineJoin = '';\n    this.miterLimit = '';\n    this.id = Math.random();\n  }\n\n  function CVContextData() {\n    this.stack = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    var i;\n    var len = 15;\n\n    for (i = 0; i < len; i += 1) {\n      var canvasContext = new CanvasContext();\n      this.stack[i] = canvasContext;\n    }\n\n    this._length = len;\n    this.nativeContext = null;\n    this.transformMat = new Matrix();\n    this.currentOpacity = 1; //\n\n    this.currentFillStyle = '';\n    this.appliedFillStyle = ''; //\n\n    this.currentStrokeStyle = '';\n    this.appliedStrokeStyle = ''; //\n\n    this.currentLineWidth = '';\n    this.appliedLineWidth = ''; //\n\n    this.currentLineCap = '';\n    this.appliedLineCap = ''; //\n\n    this.currentLineJoin = '';\n    this.appliedLineJoin = ''; //\n\n    this.appliedMiterLimit = '';\n    this.currentMiterLimit = '';\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.stack[i] = new CanvasContext();\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.stack[this.cArrPos].opacity = 1;\n  };\n\n  CVContextData.prototype.restore = function (forceRestore) {\n    this.cArrPos -= 1;\n    var currentContext = this.stack[this.cArrPos];\n    var transform = currentContext.transform;\n    var i;\n    var arr = this.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = transform[i];\n    }\n\n    if (forceRestore) {\n      this.nativeContext.restore();\n      var prevStack = this.stack[this.cArrPos + 1];\n      this.appliedFillStyle = prevStack.fillStyle;\n      this.appliedStrokeStyle = prevStack.strokeStyle;\n      this.appliedLineWidth = prevStack.lineWidth;\n      this.appliedLineCap = prevStack.lineCap;\n      this.appliedLineJoin = prevStack.lineJoin;\n      this.appliedMiterLimit = prevStack.miterLimit;\n    }\n\n    this.nativeContext.setTransform(transform[0], transform[1], transform[4], transform[5], transform[12], transform[13]);\n\n    if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {\n      this.nativeContext.globalAlpha = currentContext.opacity;\n      this.currentOpacity = currentContext.opacity;\n    }\n\n    this.currentFillStyle = currentContext.fillStyle;\n    this.currentStrokeStyle = currentContext.strokeStyle;\n    this.currentLineWidth = currentContext.lineWidth;\n    this.currentLineCap = currentContext.lineCap;\n    this.currentLineJoin = currentContext.lineJoin;\n    this.currentMiterLimit = currentContext.miterLimit;\n  };\n\n  CVContextData.prototype.save = function (saveOnNativeFlag) {\n    if (saveOnNativeFlag) {\n      this.nativeContext.save();\n    }\n\n    var props = this.cTr.props;\n\n    if (this._length <= this.cArrPos) {\n      this.duplicate();\n    }\n\n    var currentStack = this.stack[this.cArrPos];\n    var i;\n\n    for (i = 0; i < 16; i += 1) {\n      currentStack.transform[i] = props[i];\n    }\n\n    this.cArrPos += 1;\n    var newStack = this.stack[this.cArrPos];\n    newStack.opacity = currentStack.opacity;\n    newStack.fillStyle = currentStack.fillStyle;\n    newStack.strokeStyle = currentStack.strokeStyle;\n    newStack.lineWidth = currentStack.lineWidth;\n    newStack.lineCap = currentStack.lineCap;\n    newStack.lineJoin = currentStack.lineJoin;\n    newStack.miterLimit = currentStack.miterLimit;\n  };\n\n  CVContextData.prototype.setOpacity = function (value) {\n    this.stack[this.cArrPos].opacity = value;\n  };\n\n  CVContextData.prototype.setContext = function (value) {\n    this.nativeContext = value;\n  };\n\n  CVContextData.prototype.fillStyle = function (value) {\n    if (this.stack[this.cArrPos].fillStyle !== value) {\n      this.currentFillStyle = value;\n      this.stack[this.cArrPos].fillStyle = value;\n    }\n  };\n\n  CVContextData.prototype.strokeStyle = function (value) {\n    if (this.stack[this.cArrPos].strokeStyle !== value) {\n      this.currentStrokeStyle = value;\n      this.stack[this.cArrPos].strokeStyle = value;\n    }\n  };\n\n  CVContextData.prototype.lineWidth = function (value) {\n    if (this.stack[this.cArrPos].lineWidth !== value) {\n      this.currentLineWidth = value;\n      this.stack[this.cArrPos].lineWidth = value;\n    }\n  };\n\n  CVContextData.prototype.lineCap = function (value) {\n    if (this.stack[this.cArrPos].lineCap !== value) {\n      this.currentLineCap = value;\n      this.stack[this.cArrPos].lineCap = value;\n    }\n  };\n\n  CVContextData.prototype.lineJoin = function (value) {\n    if (this.stack[this.cArrPos].lineJoin !== value) {\n      this.currentLineJoin = value;\n      this.stack[this.cArrPos].lineJoin = value;\n    }\n  };\n\n  CVContextData.prototype.miterLimit = function (value) {\n    if (this.stack[this.cArrPos].miterLimit !== value) {\n      this.currentMiterLimit = value;\n      this.stack[this.cArrPos].miterLimit = value;\n    }\n  };\n\n  CVContextData.prototype.transform = function (props) {\n    this.transformMat.cloneFromProps(props); // Taking the last transform value from the stored stack of transforms\n\n    var currentTransform = this.cTr; // Applying the last transform value after the new transform to respect the order of transformations\n\n    this.transformMat.multiply(currentTransform); // Storing the new transformed value in the stored transform\n\n    currentTransform.cloneFromProps(this.transformMat.props);\n    var trProps = currentTransform.props; // Applying the new transform to the canvas\n\n    this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CVContextData.prototype.opacity = function (op) {\n    var currentOpacity = this.stack[this.cArrPos].opacity;\n    currentOpacity *= op < 0 ? 0 : op;\n\n    if (this.stack[this.cArrPos].opacity !== currentOpacity) {\n      if (this.currentOpacity !== op) {\n        this.nativeContext.globalAlpha = op;\n        this.currentOpacity = op;\n      }\n\n      this.stack[this.cArrPos].opacity = currentOpacity;\n    }\n  };\n\n  CVContextData.prototype.fill = function (rule) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fill(rule);\n  };\n\n  CVContextData.prototype.fillRect = function (x, y, w, h) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fillRect(x, y, w, h);\n  };\n\n  CVContextData.prototype.stroke = function () {\n    if (this.appliedStrokeStyle !== this.currentStrokeStyle) {\n      this.appliedStrokeStyle = this.currentStrokeStyle;\n      this.nativeContext.strokeStyle = this.appliedStrokeStyle;\n    }\n\n    if (this.appliedLineWidth !== this.currentLineWidth) {\n      this.appliedLineWidth = this.currentLineWidth;\n      this.nativeContext.lineWidth = this.appliedLineWidth;\n    }\n\n    if (this.appliedLineCap !== this.currentLineCap) {\n      this.appliedLineCap = this.currentLineCap;\n      this.nativeContext.lineCap = this.appliedLineCap;\n    }\n\n    if (this.appliedLineJoin !== this.currentLineJoin) {\n      this.appliedLineJoin = this.currentLineJoin;\n      this.nativeContext.lineJoin = this.appliedLineJoin;\n    }\n\n    if (this.appliedMiterLimit !== this.currentMiterLimit) {\n      this.appliedMiterLimit = this.currentMiterLimit;\n      this.nativeContext.miterLimit = this.appliedMiterLimit;\n    }\n\n    this.nativeContext.stroke();\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || '',\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n\n    if (this.renderConfig.clearCanvas) {\n      this.ctxTransform = this.contextData.transform.bind(this.contextData);\n      this.ctxOpacity = this.contextData.opacity.bind(this.contextData);\n      this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);\n      this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);\n      this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);\n      this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);\n      this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);\n      this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);\n      this.ctxFill = this.contextData.fill.bind(this.contextData);\n      this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);\n      this.ctxStroke = this.contextData.stroke.bind(this.contextData);\n      this.save = this.contextData.save.bind(this.contextData);\n    }\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\n    var width = 0;\n\n    if (widthProperty.keyframes) {\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\n        var kfw = widthProperty.keyframes[i].s;\n\n        if (kfw > width) {\n          width = kfw;\n        }\n      }\n\n      width *= widthProperty.mult;\n    } else {\n      width = widthProperty.v * widthProperty.mult;\n    }\n\n    boundingBox.x -= width;\n    boundingBox.xMax += width;\n    boundingBox.y -= width;\n    boundingBox.yMax += width;\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      },\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$2(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    var _lottieGlobal = {};\n    initialize$2(BMMath);\n\n    function resetFrame() {\n      _lottieGlobal = {};\n    }\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || v instanceof Number || tOfV === 'boolean' || tOfV === 'string';\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof$1(a);\n\n      if (tOfA === 'number' || a instanceof Number || tOfA === 'boolean') {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b) || tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      // Bail out if we don't want expressions\n      function noOp(_value) {\n        return _value;\n      }\n\n      if (!elem.globalData.renderConfig.runExpressions) {\n        return noOp;\n      }\n\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];\n    ob.resetFrame = resetFrame;\n    return ob;\n  }();\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n    ob.resetFrame = ExpressionManager.resetFrame;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (!_sourceText || stringValue !== _sourceText.value) {\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n\n            Object.defineProperty(_sourceText, 'style', {\n              get: function get() {\n                return {\n                  fillColor: elem.textProperty.currentData.fc\n                };\n              }\n            });\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  var interfaces = {\n    layer: LayerExpressionInterface,\n    effects: EffectsExpressionInterface,\n    comp: CompExpressionInterface,\n    shape: ShapeExpressionInterface,\n    text: TextExpressionInterface,\n    footage: FootageInterface\n  };\n\n  function getInterface(type) {\n    return interfaces[type] || null;\n  }\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  var linearFilterValue = '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', linearFilterValue + ' 1 0');\n    this.linearFilter = feColorMatrix;\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.linearFilter.setAttribute('values', linearFilterValue + ' ' + opacity + ' 0');\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 1 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\n    var filterSize = filterManager.data.fs || globalFilterSize;\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  function TransformEffect() {}\n\n  TransformEffect.prototype.init = function (effectsManager) {\n    this.effectsManager = effectsManager;\n    this.type = effectTypes.TRANSFORM_EFFECT;\n    this.matrix = new Matrix();\n    this.opacity = -1;\n    this._mdf = false;\n    this._opMdf = false;\n  };\n\n  TransformEffect.prototype.renderFrame = function (forceFrame) {\n    this._opMdf = false;\n    this._mdf = false;\n\n    if (forceFrame || this.effectsManager._mdf) {\n      var effectElements = this.effectsManager.effectElements;\n      var anchor = effectElements[0].p.v;\n      var position = effectElements[1].p.v;\n      var isUniformScale = effectElements[2].p.v === 1;\n      var scaleHeight = effectElements[3].p.v;\n      var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;\n      var skew = effectElements[5].p.v;\n      var skewAxis = effectElements[6].p.v;\n      var rotation = effectElements[7].p.v;\n      this.matrix.reset();\n      this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);\n      this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);\n      this.matrix.rotate(-rotation * degToRads);\n      this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);\n      this.matrix.translate(position[0], position[1], 0);\n      this._mdf = true;\n\n      if (this.opacity !== effectElements[8].p.v) {\n        this.opacity = effectElements[8].p.v;\n        this._opMdf = true;\n      }\n    }\n  };\n\n  function SVGTransformEffect(_, filterManager) {\n    this.init(filterManager);\n  }\n\n  extendPrototype([TransformEffect], SVGTransformEffect);\n\n  function CVTransformEffect(effectsManager) {\n    this.init(effectsManager);\n  }\n\n  extendPrototype([TransformEffect], CVTransformEffect);\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\n  ShapeModifiers.registerModifier('op', OffsetPathModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  setExpressionInterfaces(getInterface);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect$1(20, SVGTintFilter, true);\n  registerEffect$1(21, SVGFillFilter, true);\n  registerEffect$1(22, SVGStrokeEffect, false);\n  registerEffect$1(23, SVGTritoneFilter, true);\n  registerEffect$1(24, SVGProLevelsFilter, true);\n  registerEffect$1(25, SVGDropShadowEffect, true);\n  registerEffect$1(28, SVGMatte3Effect, false);\n  registerEffect$1(29, SVGGaussianBlurEffect, true);\n  registerEffect$1(35, SVGTransformEffect, false);\n  registerEffect(35, CVTransformEffect);\n\n  return lottie;\n\n}));\n","import lottie from 'lottie-web';\nimport React, { memo, forwardRef, useRef, useCallback, useState, useEffect } from 'react';\nimport equal from 'fast-deep-equal/es6/react';\nimport clone from 'rfdc/default';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nvar emptyObject = {};\nvar noOp = function noOp() {\n  return undefined;\n};\nvar makeLottiePlayer = function makeLottiePlayer(_ref) {\n  var loadAnimation = _ref.loadAnimation;\n  var Lottie = memo(forwardRef(function (params, forwardedRef) {\n    var _params$play = params.play,\n      play = _params$play === void 0 ? null : _params$play,\n      _params$speed = params.speed,\n      speed = _params$speed === void 0 ? 1 : _params$speed,\n      _params$direction = params.direction,\n      direction = _params$direction === void 0 ? 1 : _params$direction,\n      _params$segments = params.segments,\n      segmentsIn = _params$segments === void 0 ? null : _params$segments,\n      _params$goTo = params.goTo,\n      goTo = _params$goTo === void 0 ? null : _params$goTo,\n      _params$useSubframes = params.useSubframes,\n      useSubframes = _params$useSubframes === void 0 ? true : _params$useSubframes,\n      _params$renderer = params.renderer,\n      renderer = _params$renderer === void 0 ? 'svg' : _params$renderer,\n      _params$loop = params.loop,\n      loop = _params$loop === void 0 ? true : _params$loop,\n      _params$rendererSetti = params.rendererSettings,\n      rendererSettingsIn = _params$rendererSetti === void 0 ? emptyObject : _params$rendererSetti,\n      audioFactory = params.audioFactory,\n      _params$onLoad = params.onLoad,\n      onLoad = _params$onLoad === void 0 ? noOp : _params$onLoad,\n      _params$onComplete = params.onComplete,\n      onComplete = _params$onComplete === void 0 ? noOp : _params$onComplete,\n      _params$onLoopComplet = params.onLoopComplete,\n      onLoopComplete = _params$onLoopComplet === void 0 ? noOp : _params$onLoopComplet,\n      _params$onEnterFrame = params.onEnterFrame,\n      onEnterFrame = _params$onEnterFrame === void 0 ? noOp : _params$onEnterFrame,\n      _params$onSegmentStar = params.onSegmentStart,\n      onSegmentStart = _params$onSegmentStar === void 0 ? noOp : _params$onSegmentStar,\n      props = _objectWithoutPropertiesLoose(params, [\"play\", \"speed\", \"direction\", \"segments\", \"goTo\", \"useSubframes\", \"renderer\", \"loop\", \"rendererSettings\", \"audioFactory\", \"onLoad\", \"onComplete\", \"onLoopComplete\", \"onEnterFrame\", \"onSegmentStart\"]);\n    var propsFiltered = props;\n    var animationData;\n    var path;\n    if ('animationData' in props) {\n      var _props = props;\n      animationData = _props.animationData;\n      propsFiltered = _objectWithoutPropertiesLoose(_props, [\"animationData\"]);\n    }\n    if ('path' in props) {\n      var _props2 = props;\n      path = _props2.path;\n      propsFiltered = _objectWithoutPropertiesLoose(_props2, [\"path\"]);\n    }\n    var animElementRef = useRef(null);\n    var animRef = useRef();\n    var getAnim = useCallback(function () {\n      if (animRef.current == null) throw new Error('Lottie ref is not set');\n      return animRef.current;\n    }, []);\n    var _useState = useState(false),\n      ready = _useState[0],\n      setReady = _useState[1];\n    var _useState2 = useState(segmentsIn),\n      segments = _useState2[0],\n      setSegments = _useState2[1];\n    useEffect(function () {\n      if (!equal(segments, segmentsIn)) setSegments(segmentsIn);\n    }, [segmentsIn, segments]);\n    var _useState3 = useState(rendererSettingsIn),\n      rendererSettings = _useState3[0],\n      setRendererSettings = _useState3[1];\n    useEffect(function () {\n      if (!equal(rendererSettings, rendererSettingsIn)) setRendererSettings(rendererSettingsIn);\n    }, [rendererSettingsIn, rendererSettings]);\n    useEffect(function () {\n      return function () {\n        return getAnim().removeEventListener('complete', onComplete);\n      };\n    }, [getAnim, onComplete]);\n    useEffect(function () {\n      return function () {\n        return getAnim().removeEventListener('loopComplete', onLoopComplete);\n      };\n    }, [getAnim, onLoopComplete]);\n    useEffect(function () {\n      return function () {\n        return getAnim().removeEventListener('enterFrame', onEnterFrame);\n      };\n    }, [getAnim, onEnterFrame]);\n    useEffect(function () {\n      return function () {\n        return getAnim().removeEventListener('segmentStart', onSegmentStart);\n      };\n    }, [getAnim, onSegmentStart]);\n    useEffect(function () {\n      return function () {\n        return getAnim().removeEventListener('DOMLoaded', onLoad);\n      };\n    }, [getAnim, onLoad]);\n    var setLottieRefs = useCallback(function (newRef) {\n      animRef.current = newRef;\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(newRef);\n      } else if (forwardedRef !== undefined && forwardedRef !== null) {\n        forwardedRef.current = newRef;\n      }\n    }, [forwardedRef]);\n    useEffect(function () {\n      function parseAnimationData() {\n        if (animationData == null || typeof animationData !== 'object') return animationData;\n        if ('default' in animationData && typeof animationData[\"default\"] === 'object') {\n          return clone(animationData[\"default\"]);\n        }\n        return clone(animationData);\n      }\n      if (animElementRef.current == null) throw new Error('animElementRef is not set');\n      var lottie = loadAnimation(_extends({\n        animationData: parseAnimationData(),\n        path: path,\n        container: animElementRef.current,\n        renderer: renderer,\n        loop: false,\n        autoplay: false,\n        rendererSettings: rendererSettings\n      }, audioFactory ? {\n        audioFactory: audioFactory\n      } : {}));\n      setLottieRefs(lottie);\n      var onDomLoaded = function onDomLoaded() {\n        return setReady(true);\n      };\n      getAnim().addEventListener('DOMLoaded', onDomLoaded);\n      return function () {\n        getAnim().removeEventListener('DOMLoaded', onDomLoaded);\n        setReady(false);\n        getAnim().destroy();\n        setLottieRefs(undefined);\n      };\n    }, [loop, renderer, rendererSettings, animationData, path, audioFactory, setLottieRefs, getAnim]);\n    useEffect(function () {\n      getAnim().addEventListener('DOMLoaded', onLoad);\n    }, [getAnim, onLoad]);\n    useEffect(function () {\n      getAnim().addEventListener('complete', onComplete);\n    }, [getAnim, onComplete]);\n    useEffect(function () {\n      getAnim().addEventListener('loopComplete', onLoopComplete);\n    }, [getAnim, onLoopComplete]);\n    useEffect(function () {\n      getAnim().addEventListener('enterFrame', onEnterFrame);\n    }, [getAnim, onEnterFrame]);\n    useEffect(function () {\n      getAnim().addEventListener('segmentStart', onSegmentStart);\n    }, [getAnim, onSegmentStart]);\n    useEffect(function () {\n      if (!ready) return;\n      getAnim().loop = loop;\n    }, [ready, loop, getAnim]);\n    var wasPlayingSegmentsRef = useRef(false);\n    useEffect(function () {\n      if (!ready) return;\n      function playReverse(lastFrame) {\n        getAnim().goToAndPlay(lastFrame, true);\n        getAnim().setDirection(direction);\n      }\n      if (play === true) {\n        var force = true;\n        if (segments) {\n          getAnim().playSegments(segments, force);\n          wasPlayingSegmentsRef.current = true;\n          if (direction === -1) {\n            var lastFrame = typeof segments[1] === 'number' ? segments[1] : segments[1][1];\n            playReverse(lastFrame);\n          }\n        } else {\n          if (wasPlayingSegmentsRef.current) getAnim().resetSegments(force);\n          wasPlayingSegmentsRef.current = false;\n          if (direction === -1) {\n            var _lastFrame = getAnim().getDuration(true);\n            playReverse(_lastFrame);\n          } else {\n            getAnim().play();\n          }\n        }\n      } else if (play === false) {\n        getAnim().pause();\n      }\n    }, [play, segments, ready, direction, getAnim]);\n    useEffect(function () {\n      if (!ready) return;\n      if (Number.isNaN(speed)) return;\n      getAnim().setSpeed(speed);\n    }, [speed, ready, getAnim]);\n    useEffect(function () {\n      if (!ready) return;\n      getAnim().setDirection(direction);\n    }, [direction, getAnim, ready]);\n    useEffect(function () {\n      if (!ready) return;\n      if (goTo == null) return;\n      var isFrame = true;\n      if (play) getAnim().goToAndPlay(goTo, isFrame);else getAnim().goToAndStop(goTo, isFrame);\n    }, [getAnim, goTo, play, ready]);\n    useEffect(function () {\n      if (getAnim().setSubframe) getAnim().setSubframe(useSubframes);\n    }, [getAnim, useSubframes]);\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", _extends({}, propsFiltered, {\n        ref: animElementRef\n      }))\n    );\n  }));\n  return Lottie;\n};\n\nvar LottiePlayer = makeLottiePlayer(lottie);\n\nexport default LottiePlayer;\n//# sourceMappingURL=LottiePlayer.modern.js.map\n","'use strict'\n\nmodule.exports = require('./index.js')()\n","'use strict'\nmodule.exports = rfdc\n\nfunction copyBuffer (cur) {\n  if (cur instanceof Buffer) {\n    return Buffer.from(cur)\n  }\n\n  return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length)\n}\n\nfunction rfdc (opts) {\n  opts = opts || {}\n\n  if (opts.circles) return rfdcCircles(opts)\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    var keys = Object.keys(a)\n    var a2 = new Array(keys.length)\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i]\n      var cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur instanceof Date) {\n        a2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        a2[k] = fn(cur)\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), clone))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), clone))\n    var o2 = {}\n    for (var k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), clone))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), clone))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = clone(cur)\n      }\n    }\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), cloneProto))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), cloneProto))\n    var o2 = {}\n    for (var k in o) {\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), cloneProto))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), cloneProto))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = cloneProto(cur)\n      }\n    }\n    return o2\n  }\n}\n\nfunction rfdcCircles (opts) {\n  var refs = []\n  var refsNew = []\n\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    var keys = Object.keys(a)\n    var a2 = new Array(keys.length)\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i]\n      var cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur instanceof Date) {\n        a2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        var index = refs.indexOf(cur)\n        if (index !== -1) {\n          a2[k] = refsNew[index]\n        } else {\n          a2[k] = fn(cur)\n        }\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), clone))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), clone))\n    var o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (var k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), clone))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), clone))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        var i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = clone(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), cloneProto))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), cloneProto))\n    var o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (var k in o) {\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), cloneProto))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), cloneProto))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        var i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = cloneProto(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","Action","PopStateEventType","createBrowserHistory","options","getLocation","createHref","validateLocation","window","document","defaultView","v5Compat","globalHistory","history","action","Pop","listener","index","getIndex","state","idx","handlePop","nextIndex","delta","location","createURL","to","base","origin","href","createPath","invariant","URL","replaceState","listen","fn","Error","addEventListener","removeEventListener","encodeLocation","url","pathname","search","hash","push","Push","createLocation","historyState","getHistoryState","pushState","error","DOMException","name","replace","Replace","go","n","getUrlBasedHistory","usr","value","message","warning","cond","console","warn","e","current","parsePath","Math","random","toString","substr","_ref","charAt","path","parsedPath","hashIndex","indexOf","searchIndex","ResultType","immutableRouteKeys","Set","convertRoutesToDataRoutes","routes","mapRouteProperties","parentPath","manifest","map","route","treePath","id","join","children","isIndexRoute","indexRoute","pathOrLayoutRoute","undefined","matchRoutes","locationArg","basename","stripBasename","branches","flattenRoutes","sort","a","b","score","slice","every","compareIndexes","routesMeta","meta","childrenIndex","rankRouteBranches","matches","matchRouteBranch","safelyDecodeURI","parentsMeta","flattenRoute","relativePath","caseSensitive","startsWith","joinPaths","concat","computeScore","forEach","_route$path","includes","exploded","explodeOptionalSegments","segments","split","first","rest","isOptional","endsWith","required","restExploded","result","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","initialScore","some","filter","reduce","segment","test","branch","matchedParams","matchedPathname","end","remainingPathname","match","matchPath","params","pathnameBase","normalizePathname","pattern","matcher","paramNames","regexpSource","_","paramName","RegExp","compilePath","captureGroups","memo","splatValue","decodeURIComponent","safelyDecodeURIComponent","decodeURI","toLowerCase","startIndex","nextChar","getInvalidPathError","char","field","dest","JSON","stringify","getPathContributingMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","shift","fromPathname","pop","resolvePathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","ErrorResponse","constructor","status","statusText","data","internal","isRouteErrorResponse","validMutationMethodsArr","validMutationMethods","validRequestMethodsArr","validRequestMethods","redirectStatusCodes","redirectPreserveMethodStatusCodes","IDLE_NAVIGATION","formMethod","formAction","formEncType","formData","json","text","IDLE_FETCHER","IDLE_BLOCKER","proceed","reset","ABSOLUTE_URL_REGEX","defaultMapRouteProperties","hasErrorBoundary","Boolean","createRouter","init","routerWindow","isBrowser","createElement","isServer","detectErrorBoundary","inFlightDataRoutes","dataRoutes","future","v7_normalizeFormMethod","v7_prependBasename","unlistenHistory","subscribers","savedScrollPositions","getScrollRestorationKey","getScrollPosition","initialScrollRestored","hydrationData","initialMatches","initialErrors","getInternalRouterError","getShortCircuitMatches","router","pendingNavigationController","initialized","m","lazy","loader","historyAction","navigation","restoreScrollPosition","preventScrollReset","revalidation","loaderData","actionData","errors","fetchers","Map","blockers","pendingAction","pendingPreventScrollReset","isUninterruptedRevalidation","isRevalidationRequired","cancelledDeferredRoutes","cancelledFetcherLoads","fetchControllers","incrementingLoadId","pendingNavigationLoadId","fetchReloadIds","fetchRedirectIds","fetchLoadMatches","activeDeferreds","blockerFunctions","ignoreNextHistoryUpdate","updateState","newState","subscriber","completeNavigation","_location$state","_location$state2","isActionReload","isMutationMethod","_isRedirect","keys","mergeLoaderData","size","k","set","getSavedScrollPosition","async","startNavigation","opts","abort","startUninterruptedRevalidation","getScrollKey","saveScrollPosition","routesToUse","loadingNavigation","overrideNavigation","notFoundMatches","cancelActiveDeferreds","submission","AbortController","pendingActionData","pendingError","request","createClientSideRequest","signal","findNearestBoundary","actionOutput","interruptActiveLoads","getSubmittingNavigation","actionMatch","getTargetMatch","callLoaderOrAction","aborted","shortCircuited","type","method","routeId","isRedirectResult","startRedirectNavigation","isErrorResult","boundaryMatch","pendingActionError","isDeferredResult","handleAction","getLoadingNavigation","Request","fetcherSubmission","activeSubmission","getSubmissionFromNavigation","matchesToLoad","revalidatingFetchers","getMatchesToLoad","updatedFetchers","markFetchRedirectsDone","rf","fetcher","get","revalidatingFetcher","getLoadingFetcher","has","abortFetcher","controller","abortPendingFetchRevalidations","f","results","loaderResults","fetcherResults","callLoadersAndMaybeResolveData","delete","redirect","findRedirect","fetcherKey","add","processLoaderData","deferredData","subscribe","done","didAbortFetchLoads","abortStaleFetchLoads","handleLoaders","getFetcher","_temp","isFetchActionRedirect","revalidate","redirectLocation","_isFetchActionRedirect","isDifferentBasename","redirectHistoryAction","currentMatches","fetchersToLoad","Promise","all","resolveDeferredResults","setFetcherError","deleteFetcher","markFetchersDone","doneFetcher","getDoneFetcher","doneKeys","landedId","yeetedKeys","deleteBlocker","updateBlocker","newBlocker","blocker","shouldBlockNavigation","_ref2","currentLocation","nextLocation","entries","Array","blockerKey","blockerFunction","predicate","cancelledRouteIds","dfd","cancel","handle","createUseMatchesMatch","y","initialize","enableScrollRestoration","positions","getPosition","getKey","navigate","normalizedPath","normalizeTo","fromRouteId","relative","normalizeNavigateOptions","userReplace","fetch","requestMatches","existingFetcher","getSubmittingFetcher","abortController","fetchRequest","originatingLoadId","actionResult","loadingFetcher","revalidationRequest","loadId","loadFetcher","staleKey","r","handleFetcherAction","resolveDeferredData","handleFetcherLoader","dispose","clear","getBlocker","_internalFetchControllers","_internalActiveDeferreds","_internalSetRoutes","newRoutes","prependBasename","contextualMatches","activeRouteMatch","hasNakedIndexQuery","normalizeFormMethod","isFetcher","body","isSubmissionNavigation","searchParams","getInvalidBodyError","rawFormMethod","toUpperCase","stripHashFromPath","FormData","URLSearchParams","acc","_ref3","String","parse","convertFormDataToSearchParams","convertSearchParamsToFormData","append","values","currentUrl","nextUrl","boundaryId","navigationMatches","boundaryMatches","findIndex","getLoaderMatchesUntilBoundary","currentLoaderData","currentMatch","isNew","isMissingData","isNewLoader","currentRouteMatch","nextRouteMatch","shouldRevalidateLoader","currentParams","nextParams","defaultShouldRevalidate","isNewRouteInstance","fetcherMatches","fetcherMatch","shouldRevalidate","currentPath","loaderMatch","arg","routeChoice","loadLazyRouteModule","lazyRoute","routeToUpdate","routeUpdates","lazyRouteProperty","isPropertyStaticallyDefined","resultType","onReject","runHandler","handler","reject","abortPromise","race","context","requestContext","headers","isStaticRequest","protocol","isSameBasename","isRouteRequest","response","contentType","statusCode","_result$init","_result$init2","deferred","resolveData","isDeferredData","Headers","foundError","loaderHeaders","processRouteLoaderData","newLoaderData","mergedLoaderData","reverse","find","_temp4","errorMessage","signals","isRevalidatingLoader","then","unwrap","unwrappedData","getAll","v","pathMatches","Symbol","module","exports","equal","isArray","ArrayBuffer","isView","flags","valueOf","$$typeof","factory","navigator","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","getLocationHref","createTag","extendPrototype","sources","destination","sourcePrototype","len","attr","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","_typeof$6","obj","iterator","subframeEnabled","expressionsPlugin","expressionsInterfaces","idPrefix$1","isSafari","userAgent","_shouldRoundValues","bmPow","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","ProjectInterface$1","propertyNames","abs","val","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","g","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setExpressionInterfaces","getExpressionInterfaces","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","_workerSelf","setupWorker","Worker","Blob","blob","createObjectURL","createWorker","completeLayers","layers","comps","layerData","j","jLen","kLen","completed","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","comp","findComp","__used","ks","it","o","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","charData","ip","op","st","sr","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","responseText","load","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","open","send","completeData","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","appendChild","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","splice","markerParser","parsePayloadLines","line","lines","keysCount","trim","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","__","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","getRenderer","getRegisteredRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","_width","_height","updateContainerSize","setSubframe","renderFrame","resetFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","setLoop","isLooping","getPath","getAssetData","hide","show","getDuration","updateDocumentData","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","setAttribute","getElementsByTagName","innerText","div","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","str","beziers","bezEasing","BezierEasing","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","x","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quaternionToEuler","slerp","createQuaternion","omega","cosom","sinom","scale0","scale1","out","ax","ay","az","aw","bx","by","bz","bw","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","PropertyFactory","getProp","sid","slotManager","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","multiply","matrix","matrixProps","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","lottie","setLocation","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","useWebWorker","setIDPrefix","__getFactory","version","scripts","myScript","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","floatEqual","floatZero","lerp","lerpPoint","quadRoots","singleRoot","polynomialCoefficients","p3","singlePoint","PolynomialBezier","linearize","pointEqual","coeffx","coeffy","extrema","intersectData","t2","box","boundingBox","cx","cy","splitData","boxIntersect","intersectsImpl","depth","tolerance","intersections","maxRecursion","d1s","d2s","crossProduct","lineIntersection","start1","end1","start2","end2","v3","v4","polarOffset","pointDistance","hypot","ZigZagModifier","setPoint","outputBezier","amplitude","outAmplitude","inAmplitude","angO","angI","getPerpendicularVector","vector","rot","getProjectingAngle","cur","prevIndex","pVector","zigZagCorner","frequency","pointType","prevPoint","nextPoint","prevDist","nextDist","zigZagSegment","dist","normalAngle","linearOffset","offsetSegment","p1a","p1b","p2b","p2a","joinLines","seg1","seg2","lineJoin","miterLimit","angleOut","tangentAngle","angleIn","center","radius","intersection","getIntersection","intersect","pruneSegmentIntersection","outa","outb","pruneIntersections","offsetSegmentSplit","right","mid","flex","inflectionPoints","OffsetPathModifier","getFontProperties","fontData","styles","fStyle","fWeight","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","derivative","denom","tcusp","square","root","p10","p11","p20","p21","bounds","bottom","other","shapeSegmentInverted","pointsType","count","ml","lj","inputBezier","multiSegments","lastSeg","multiSegment","FontManager","emptyChar","w","combinedCharacters","BLACK_FLAG_CODE_POINT","surrogateModifiers","setUpNode","font","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","def","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","getComputedTextLength","getCodePoint","string","codePoint","charCodeAt","second","isRegionalCode","Font","typekitLoaded","_warned","Date","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","charCode","isFlagEmoji","isCombinedCharacter","_char3","isRegionalFlag","isVariationSelector","fontPrototype","found","ch","list","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","rel","sc","getCharData","_char","getFontByName","fName","_char2","fontName","doubleSize","singleSize","loadedCount","removeChild","SlotManager","slotFactory","RenderableElement","slots","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effects","ef","effectElements","effectItem","GroupEffect","BaseElement","FrameElement","FootageElement","imageLoader","initBaseData","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","eff","checkMasks","LayerExpressionInterface","EffectsExpressionInterface","ShapeExpressionInterface","TextExpressionInterface","CompExpressionInterface","layerInterface","maskManager","registerMaskInterface","effectsInterface","createEffectsInterface","registerEffectsInterface","shapeInterface","shapesData","itemsData","content","textInterface","setBlendMode","blendModeValue","bm","baseElement","layerElement","layerId","effectsManager","getType","prepareProperties","isVisible","_isParent","getBaseElement","FootageInterface","getFootageData","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","pendingElements","getElementById","pathValue","setupGlobalData","fontsContainer","animationItem","compSize","effectTypes","TRANSFORM_EFFECT","TransformElement","MaskElement","maskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","mask","createLayerSolidPath","invRect","drawPath","maskedElement","initTransform","_matMdf","_localMatMdf","_opMdf","localMat","localOpacity","ao","renderTransform","finalMat","renderLocalTransform","localTransforms","lmat","localOp","opacity","searchEffectTransforms","renderableEffectsManager","transformEffects","getEffects","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","featureSupport","svgLumaHidden","offscreenCanvas","registeredEffects$1","idPrefix","SVGEffects","filterManager","createFilter","filters","Effect","effect","countsAsEffect","registerEffect$1","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","layerElementParent","td","matteMasks","gg","tt","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","getMatte","matteType","useElement","masker","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dataProps","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","of","ms","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","shouldCombine","shouldCombineNext","currentChars","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","atan","textAnimator","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","validateText","buildNewText","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","className","focusable","filterSize","runExpressions","destroyed","ShapeTransformManager","sequences","sequenceList","transform_key_count","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","findIndexByInd","appendElementInPos","elementIndex","tp","matteMask","nextElement","insertBefore","setElements","getElements","destroyElements","addTransformSequence","sequence","processSequence","processSequences","getNewKey","lumaLoader","lumaBuffer","lumaBufferCtx","svg","loadLuma","_svg","createCanvas","loadLumaCanvas","getLumaCanvas","registeredEffects","CVEffects","registerEffect","CVMaskElement","hasMasks","CVBaseElement","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","operationsMap","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","CanvasContext","strokeStyle","lineCap","CVContextData","stack","cArrPos","cTr","nativeContext","transformMat","currentOpacity","currentFillStyle","appliedFillStyle","currentStrokeStyle","appliedStrokeStyle","currentLineWidth","appliedLineWidth","currentLineCap","appliedLineCap","currentLineJoin","appliedLineJoin","appliedMiterLimit","currentMiterLimit","CVCompElement","CanvasRenderer","clearCanvas","dpr","devicePixelRatio","currentGlobalAlpha","contextData","ctxTransform","ctxOpacity","ctxFillStyle","ctxStrokeStyle","ctxLineWidth","ctxLineCap","ctxLineJoin","ctxMiterLimit","ctxFill","ctxFillRect","ctxStroke","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","createElements","buffers","bufferCanvas","bufferCanvas2","_isProxy","transformCanvas","blendMode","globalCompositeOperation","hideElement","showElement","clearRect","prepareLayer","bufferCtx","drawImage","getTransform","exitLayer","buffer","forceRealStack","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","grd","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","globalAlpha","rule","actionFlag","containerStyle","mozTransformOrigin","setContext","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","duplicate","newLength","forceRestore","currentContext","prevStack","saveOnNativeFlag","currentStack","newStack","setOpacity","trProps","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","backgroundColor","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","yMax","tempBoundingBox","b2ac","calculateF","calculateBoundingBox","expandStrokeBoundingBox","widthProperty","kfw","currentBoxContains","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","setup","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","Image","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","cWidth","cHeight","floatingContainer","_createBaseContainerElements","_thisLayerFunction","defineProperty","pixelAspect","frameDuration","displayStartTime","numLayers","_typeof$2","seedRandom","nodecrypto","global","rngname","startdenom","significance","ARC4","keylen","me","S","copy","flatten","typ","mixkey","seed","smear","stringseed","tostring","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","initialize$2","propTypes","SHAPE","_typeof$1","ExpressionManager","frames","_lottieGlobal","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","noOp","_value","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","valueAtTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","frameExpressionId","__preventDeadCodeRemoval","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","MaskManagerInterface","MaskInterface","_mask","_data","_masksInterfaces","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","getSpeedAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","transformInterface","anchorPointDescriptor","defineProperties","anchor_point","startTime","_name","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","createGroupInterface","groupInterface","mn","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","effectsData","ShapePathInterface","view","propertyIndex","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","start","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","_interfaceFunction","_sourceText","sourceText","stringValue","fillColor","_typeof","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","footage","getInterface","expressionHelpers","searchExpressions","speed","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","SVGComposableEffect","createMergeNode","resultId","ins","feMergeNode","feMerge","linearFilterValue","SVGTintFilter","linearFilter","matrixFilter","SVGFillFilter","SVGStrokeEffect","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","globalFilterSize","feGaussianBlur","feOffset","feFlood","feComposite","colorBlack","colorWhite","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","SVGGaussianBlurEffect","TransformEffect","SVGTransformEffect","CVTransformEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","sigma","dimensions","sigmaX","sigmaY","edgeMode","forceFrame","isUniformScale","scaleHeight","scaleWidth","_objectWithoutPropertiesLoose","excluded","sourceKeys","emptyObject","forwardRef","forwardedRef","_params$play","_params$speed","_params$direction","_params$segments","segmentsIn","_params$goTo","goTo","_params$useSubframes","useSubframes","_params$renderer","_params$loop","_params$rendererSetti","rendererSettingsIn","_params$onLoad","onLoad","_params$onComplete","_params$onLoopComplet","_params$onEnterFrame","_params$onSegmentStar","propsFiltered","_props","_props2","animElementRef","useRef","animRef","getAnim","useCallback","_useState","useState","ready","setReady","_useState2","setSegments","useEffect","_useState3","setRendererSettings","setLottieRefs","newRef","onDomLoaded","wasPlayingSegmentsRef","playReverse","ref","copyBuffer","Buffer","byteOffset","circles","refs","refsNew","proto","cloneProto","cloneArray","rfdcCircles","sortIndex","performance","unstable_now","D","E","clearTimeout","F","setImmediate","G","expirationTime","H","I","J","K","L","M","priorityLevel","scheduling","isInputPending","N","O","P","Q","R","MessageChannel","T","U","port2","port1","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","unstable_shouldYield","unstable_wrapCallback"],"sourceRoot":""}